(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{"+EFy":function(module,exports,e){var t=e("Jpi+"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},o=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},"+Obm":function(module,exports,e){},"/ZHP":function(module,exports,e){var t=e("ti8P"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},o=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},"2f5k":function(module,e,t){"use strict";var r=t("VkAN"),n=t.n(r),o=t("VbXa"),a=t.n(o),i=t("AeFk"),s=t("F/us"),c=t.n(s),u=t("q1tI"),l=t.n(u),d=t("BVC1"),p=t("lj0O"),m=t("BS7q"),h=t("Fmrb"),f=t.n(h),b=t("q5zD"),g=t("Ys1X"),y=t("oQ9N"),v=t("xmWo"),O=t.n(v),j=t("8Hdl");function _templateObject2(){var e=n()(["\n              padding: 0;\n              margin: 0;\n              list-style-type: none;\n            "]);return _templateObject2=function _templateObject2(){return e},e}function _templateObject(){var e=n()(["\n            padding: 24px;\n          "]);return _templateObject=function _templateObject(){return e},e}var S=function(e){function DiscussionsGroupForums(){return e.apply(this,arguments)||this}var t;return a()(DiscussionsGroupForums,e),DiscussionsGroupForums.prototype.render=function render(){var e=this.props,t=e.groupForums,r=e.groupForumStatistics,n=e.courseSlug;if(!t||!t.length)return null;var o=t.map(function(e){var t=r.find(function(t){return t.id===e.id});return{id:e.id,discussionsLink:d.a.join(Object(g.c)(n),e.link),title:e.title,description:e.description,lastAnsweredAt:t&&t.lastAnsweredAt,forumQuestionCount:t&&t.forumQuestionCount}});return Object(i.d)(p.a,{className:"rc-DiscussionsGroupForums",title:Object(i.d)(j.a,null,Object(i.d)(b.a,{name:"lock"}),f()("Private Group Forums"))},Object(i.d)(j.a,{component:"div",css:Object(i.c)(_templateObject())},Object(i.d)("ul",{css:Object(i.c)(_templateObject2())},o.map(function(e){return Object(i.d)("li",{key:e.id},Object(i.d)(m.a,{discussionsLink:e.discussionsLink,title:e.title,description:e.description,lastAnsweredAt:e.lastAnsweredAt,forumQuestionCount:e.forumQuestionCount}))}))))},DiscussionsGroupForums}(l.a.Component);e.a=c.a.compose(Object(y.a)({fields:["link","title","description","parentForumId"]}))(S)},"3//P":function(module,e,t){"use strict";t.r(e),t.d(e,"DiscussionsLandingPage",function(){return N});var r=t("VkAN"),n=t.n(r),o=t("lSNA"),a=t.n(o),i=t("VbXa"),s=t.n(i),c=t("AeFk"),u=t("q1tI"),l=t.n(u),d=t("17x9"),p=t.n(d),m=t("F/us"),h=t.n(m),f=t("ZKQ4"),b=t("+LJP"),g=t("Cytz"),y=t("Vp23"),v=t("Pz00"),O=t("yaC5"),j=t("jr6M"),S=t("YB7u"),C=t("oQ9N"),I=t("BhsZ"),x=t("Z8Sg"),F=t("6/Gu"),T=t("2sch"),w=t("oEqI");function _templateObject(){var e=n()(["\n            margin: ",";\n            width: 100%;\n          "]);return _templateObject=function _templateObject(){return e},e}var N=function(e){function DiscussionsLandingPage(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).layoutCss={},t.layoutStyle=function(e){var r;return r={},a()(r,t.props.theme.breakpoints.up("sm"),{".mainColumn .rc-DiscussionsLandingPage":{margin:0}}),a()(r,t.props.theme.breakpoints.down("sm"),{".mainColumn":{padding:e.spacing(0),margin:e.spacing(0,0,48,0)}}),a()(r,".columnContainer",{paddingTop:t.props.theme.spacing(0)}),r},t}s()(DiscussionsLandingPage,e);var t=DiscussionsLandingPage.prototype;return t.getChildContext=function getChildContext(){return{courseId:this.props.courseId,userId:this.props.userId.toString()}},t.componentDidMount=function componentDidMount(){var e=this.props,t=e.addToHelper,r=e.userId,n=e.courseId,o=e.maybeAddHelpers,a;t&&o({variables:{helperId:"".concat(r,"~").concat(n)}})},t.render=function render(){var e=this.props.addToHelper;return Object(c.d)(F.a,{css:this.layoutStyle(this.props.theme),container:!0,item:!0,xs:12,className:"rc-DiscussionsLandingPage",spacing:24},e&&Object(c.d)(F.a,{item:!0,xs:12},Object(c.d)(x.a,null)),Object(c.d)(F.a,{item:!0,xs:12},Object(c.d)(v.a,null)),Object(c.d)(T.a,{mdUp:!0,css:Object(c.c)(_templateObject(),this.props.theme.spacing(0,12,0,12))},Object(c.d)(y.a,null)),Object(c.d)(F.a,{className:"columnContainer",container:!0,item:!0,xs:12,justify:"space-between"},Object(c.d)(F.a,{item:!0,className:"mainColumn",xs:12,md:9,spacing:32},Object(c.d)(O.a,null)),Object(c.d)(F.a,{item:!0,xs:12,md:3},Object(c.d)(j.a,null))))},DiscussionsLandingPage}(l.a.Component);N.childContextTypes={courseId:p.a.string,userId:p.a.string},e.default=Object(m.compose)(Object(C.a)({fields:[],subcomponents:[f.a,g.a,S.a]}),Object(b.a)(function(e){var t;return{addToHelper:"true"===e.location.query.addToHelper}}),I.a)(Object(w.a)(N))},"3SNW":function(module,exports,e){var t=e("j/jw"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},o=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},"45ES":function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),o=t("lSNA"),a=t.n(o),i=t("17x9"),s=t.n(i),c=t("q1tI"),u=t.n(c),l=t("wd/R"),d=t.n(l),p=t("F/us"),m=t.n(p),h=t("m+mO"),f=t("9A5E"),b=t("8cuT"),g=t("mpHW"),y=t("eMx6"),v=t("8Hdl"),O=t("fAYU"),j=t("oEqI"),S=t("AeFk"),C=function styles(e){var t;return Object(S.c)((t={padding:"24px 0",position:"relative",borderBottom:"1px solid ".concat(e.palette.gray[300])},a()(t,"&:last-child",{borderBottom:"none"}),a()(t,"&.focused, &:hover, &.focused a",{textDecoration:"none"}),a()(t,".forReader",{height:0,width:0}),t))},I=function(e){function ThreadsListEntry(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state={threadFocus:!1},t.handleThreadFocus=function(){t.setState({threadFocus:!0})},t.handleThreadBlur=function(){t.setState({threadFocus:!1})},t}var t;return n()(ThreadsListEntry,e),ThreadsListEntry.prototype.render=function render(){var e,t,r,n=this.props,o=n.entry,a=n.isPinned,i=n.isDeleted,s=n.isRead,c=n.threadUrl,u=n.viewCount,l=n.answerCount,p=n.badge,m=n.profile,b=n.metadataLabel,j=n.forumName,I=n.threadName,x=n.timestamp,F=n.questionId,T=n.questionUserId,w=n.fullProfile,N=this.state.threadFocus,P=void 0!==u&&!Number.isNaN(u),E=void 0!==l&&!Number.isNaN(l),A=P||E,R="".concat(a?"Pinned ":"","Thread: ").concat(I,", \n                          ").concat(d()(x).fromNow(),"\n                          ").concat(P?", ".concat(u," views"):""," \n                          ").concat(E?", ".concat(l," replies"):"");return Object(S.d)("li",{css:C(this.props.theme),className:"rc-personalization_DiscussionsBody_ThreadsListEntry ".concat(N?"focused":"blurred")},this.props.entry&&Object(S.d)(g.a,{title:this.props.entry.content.question,pinned:a,titleLink:c&&Object(S.d)(v.a,{variant:"h2semibold",className:"rc-personalization_ForumThreadCard__title"},Object(S.d)(O.a,{component:f.c,href:c,trackingName:"thread_list_entry","aria-label":R,data:{question_id:F,question_user_id:T}},this.props.entry.content.question))||void 0,threadUrl:c,description:Object(S.d)(y.a,{cml:null===(e=this.props)||void 0===e?void 0:null===(t=e.entry)||void 0===t?void 0:null===(r=t.content)||void 0===r?void 0:r.details,contentLineCountMax:2}),isUpvoted:this.props.entry.isUpvoted,upvoteCount:this.props.entry.upvoteCount,forumQuestionId:this.props.questionId,creator:this.props.entry.creator,createdAt:this.props.entry.createdAt,replyCount:this.props.answerCount,lastContributor:this.props.profile,lastReplyDate:this.props.timestamp,answerCount:this.props.answerCount,badge:p}),i&&Object(S.d)(h.a,{entry:o,hideUndoDelete:!0}))},ThreadsListEntry}(u.a.Component);I.contextTypes={executeAction:s.a.func.isRequired},I.defaultProps={isPinned:!1,isDeleted:!1,isRead:!0},e.a=m.a.compose(Object(b.a)(["CourseStore","ClassmatesProfileStore"],function(e,t){var r=e.CourseStore,n=e.ClassmatesProfileStore,o=t.profile;return{courseId:r.getCourseId(),fullProfile:m()(n.profiles).findWhere({externalId:o.externalUserId})}}))(Object(j.a)(I))},"4Kqe":function(module,exports,e){},"4a6e":function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),o=t("q1tI"),a=t.n(o),i=t("17x9"),s=t.n(i),c=t("GP6s"),u=t.n(c),l=t("kcfJ"),d=t("+EFy"),p=t.n(d),m=t("IDuc"),h=t("ZJgU"),f=function(e){function SearchBar(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleChange=function(e){var r,n;(0,t.props.handleChange)(e.target.value)},t.handleSubmitClick=function(e){var r;e.preventDefault(),(0,t.props.handleSubmit)()},t.handleClear=function(){var e=t.context.router,r=e.location,n=r.query,o=r.pathname,a=e.params,i=t.props,s=i.handleBlur,c=i.handleClear;n.q||s(),c(),delete n.q,e.push({pathname:o,params:a,query:n})},t.handleBlur=function(){var e=t.props.handleBlur;e&&e()},t.handleKeyDown=function(e){var r=t.props,n=r.handleSubmit,o=r.handleBlur,a=r.handleShiftTab;switch(e.key){case"Enter":n();break;case"Tab":e.shiftKey&&o&&(o(),a(e))}},t.handleClearKeyDown=function(e){var r=t.props,n=r.handleBlur,o=r.handleShiftTab;switch(e.key){case"Enter":t.handleClear();break;case"Tab":e.shiftKey&&n&&(n(),o(e))}},t.submitKeyDown=function(e){var r=t.props,n=r.handleTab,o=r.handleShiftTab,a=r.handleSubmit;"Tab"===e.key?e.shiftKey?o(e):n(e):"Enter"!==e.key&&" "!==e.key||a()},t}var t;return n()(SearchBar,e),SearchBar.prototype.render=function render(){var e=this,t=this.props.query,r=o.createElement("i",{role:"button",onMouseDown:this.handleClear,tabIndex:0,onKeyDown:this.handleClearKeyDown,className:"cif-cancel-hint close-icon","aria-label":u()("Clear Search")});return o.createElement("div",{className:"rc-ForumsV2__SearchBar search-bar expand-block expanded flex-1"},o.createElement("div",{className:"input-area"},o.createElement(l.a,{trackingName:"search_bar",value:t,onChange:this.handleChange,onKeyDown:this.handleKeyDown,ref:function ref(t){e.searchbox=t},"aria-label":u()("Search Input"),className:"search-input"})),o.createElement(h.a,{component:m.a,type:"button",variant:"primary",withVisibilityTracking:!0,requireFullyVisible:!1,className:"primary large-screen",onClick:this.handleSubmitClick,onMouseDown:this.handleSubmitClick,onKeyDown:this.submitKeyDown,onBlur:this.handleBlur,trackingName:"search_forum","aria-label":u()("submit search")},u()("Search")))},SearchBar}(o.Component);f.contextTypes={router:s.a.object.isRequired},f.defaultProps={handleBlur:function handleBlur(){},handleTab:function handleTab(){},handleShiftTab:function handleShiftTab(){},handleClear:function handleClear(){}},e.a=f},"51ov":function(module,e,t){"use strict";var r=t("VkAN"),n=t.n(r),o=t("VbXa"),a=t.n(o),i=t("lSNA"),s=t.n(i),c=t("AeFk"),u=t("q1tI"),l=t.n(u),d=t("17x9"),p=t.n(d),m=t("8Hdl"),h=t("fAYU"),f=t("6/Gu"),b=t("oEqI"),g=t("Tt7p"),y=t("mpHW"),v=t("hN99"),O=t("9A5E"),j=t("eMx6"),S=t("JVW9"),C=t("GP6s"),I=t.n(C);function _templateObject2(){var e=n()(["\n                      margin-top: ",";\n                    "]);return _templateObject2=function _templateObject2(){return e},e}function _templateObject(){var e=n()(["\n                    margin-top: ",";\n                  "]);return _templateObject=function _templateObject(){return e},e}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){s()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var x=function getThreadUrl(e){var t=e.forumPost,r=e.forumInfo,n=null==r?void 0:r.forumType,o=null==r?void 0:r.forumId,a=t.topLevelPostId;if(!n||!o)return;return"courseBranchWeekForumType"in n?Object(v.a)(Object(v.q)(n.courseBranchWeekForumType.weekNumber),a):"courseGroupRootForumType"in n?Object(v.a)(Object(v.n)(o),a):Object(v.a)(Object(v.m)(o),a)},F=function styles(e){return Object(c.c)({listStyle:"none",padding:"".concat(e.spacing(24,0)),position:"relative",borderBottom:"1px solid ".concat(e.palette.gray[300]),"&:last-child":{borderBottom:"none"},"&.focused, &:hover, &.focused a":{textDecoration:"none"},".forReader":{height:0,width:0}})},T=function renderPost(e,t){var r,n=e.forumPost,o=e.creatorProfile,a=e.lastRepliedUserProfile,i=x(e),s=_objectSpread(_objectSpread({},o),{},{userId:Number(null==o?void 0:o.userId),id:null==o?void 0:o.userId,learnerId:Number(null==o?void 0:o.userId)}),u=a?_objectSpread(_objectSpread({},a),{},{userId:Number(a.userId),id:null==a?void 0:a.userId,learnerId:Number(null==a?void 0:a.userId)}):void 0;return Object(c.d)("li",{css:F(t)},Object(c.d)(y.a,{answerCount:parseInt(n.topLevelReplyCount,10),badge:null===(r=n.badges)||void 0===r?void 0:r[0],createdAt:n.createdAtTime,creator:s,description:Object(c.d)(j.a,{cml:{typeName:"cml",definition:n.content.cmlContent},contentLineCountMax:2}),forumName:e.forumInfo.forumTitle,forumQuestionId:n.topLevelPostId,isUpvoted:n.isUpvoted,lastContributor:u||s,lastReplyDate:n.lastRepliedAtTime,pinned:n.isPinned,replyCount:parseInt(n.topLevelReplyCount,10),threadUrl:i,title:n.title,titleLink:i&&Object(c.d)(m.a,{variant:"h2semibold",className:"rc-personalization_ForumThreadCard__title"},Object(c.d)(h.a,{component:O.c,href:i,trackingName:"PostsForYouTab_PostLink","aria-label":"PostsForYouTab Post Link",data:{question_id:n.topLevelPostId,question_user_id:n.creatorUserId}},n.title))||void 0,upvoteCount:parseInt(n.upvoteCount,10)}))},w=function(e){function PostsForYouTabBody(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).onPageChange=function(e){var r=t.context.router;r.push({pathname:r.location.pathname,params:{},query:Object.assign(r.location.query,{page:e})})},t}var t;return a()(PostsForYouTabBody,e),PostsForYouTabBody.prototype.render=function render(){var e=this,t=this.context,r=t.router,n=t.courseId,o=this.props.theme,a=r.location.query.page?parseInt(r.location.query.page,10):1;return Object(c.d)("div",{className:"rc-personalization_PostsForYouTabBody"},Object(c.d)(g.a,{courseId:n,currentPage:a},function(t){var r=t.loading,n=t.error,i=t.data;if(n)return null;if(r)return Object(c.d)(m.a,{variant:"h2semibold",css:Object(c.c)(_templateObject(),o.spacing(24))},I()("Loading..."));if(i){if(0===i.postResults.length)return Object(c.d)(m.a,{variant:"h2semibold",css:Object(c.c)(_templateObject2(),o.spacing(24))},I()("No posts yet"));var s=Math.ceil(parseInt(i.totalHits,10)/15),u=s>1;return Object(c.d)(l.a.Fragment,null,Object(c.d)("div",null,i.postResults.map(function(e){return T(e,o)})),u&&Object(c.d)(f.a,{item:!0,xs:12,css:{justifyContent:"center"}},Object(c.d)(S.a,{style:{textAlign:"center",marginTop:"32px"},onClickHandler:e.onPageChange,pageCount:s,currentPage:a,maxPages:5})))}return null}))},PostsForYouTabBody}(l.a.Component);w.contextTypes={router:p.a.object.isRequired,courseId:d.string},e.a=Object(b.a)(w)},"7XSy":function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),o=t("q1tI"),a=t.n(o),i=t("17x9"),s=t.n(i),c=t("GP6s"),u=t.n(c),l=t("NcZ8"),d=t("kcfJ"),p=t("UCz2"),m=t.n(p),h=t("IDuc"),f=t("ZJgU"),b=function(e){function SearchBox(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state={showBar:!0,query:""},t.handleQueryChange=function(e){t.setState({query:e})},t.handleFocus=function(){var e;(0,t.props.animateToSearch)()},t.handleBlur=function(){var e;(0,t.props.animateFromSearch)()},t.handleClear=function(){t.setState({query:""})},t.handleTab=function(e){var r=t.props.nextElementId,n=r&&document&&document.getElementById(r);n&&(e.preventDefault(),n.focus())},t.handleShiftTab=function(e){var r=t.props.previousElementId,n=r&&document&&document.getElementById(r);n&&(e.preventDefault(),n.focus())},t.submitSearch=function(){var e=t.state.query,r=t.context.router,n=t.props.onSubmit,o=r.location.pathname;if(e){var a=e.replace("*","");void 0!==n&&n(a),r.push({pathname:o,params:{},query:{q:a}})}},t}var t;return n()(SearchBox,e),SearchBox.prototype.render=function render(){var e=this.state,t=e.showBar,r=e.query;return t?a.a.createElement(l.a,{query:r,handleSubmit:this.submitSearch,handleChange:this.handleQueryChange,handleBlur:this.handleBlur,handleShiftTab:this.handleShiftTab,handleTab:this.handleTab,handleClear:this.handleClear,focus:!0}):a.a.createElement("div",{className:"rc-ForumsV2__SearchBox expand-block flex-1"},a.a.createElement("div",{className:"large-screen search-bar"},a.a.createElement("div",{className:"input-area"},a.a.createElement(d.a,{trackingName:"search_box",onClick:this.handleFocus,onFocus:this.handleFocus,value:r,className:"rc-ForumsV2__search-box search-input","aria-label":"Search"})),a.a.createElement(f.a,{component:h.a,type:"button",onClick:this.handleFocus,variant:"primary",withVisibilityTracking:!0,requireFullyVisible:!1,trackingName:"search_forum"},u()("Search"))),a.a.createElement("div",{className:"mobile hide horizontal-box align-items-right"},a.a.createElement(f.a,{component:h.a,type:"button",onClick:this.handleFocus,variant:"primary",withVisibilityTracking:!0,requireFullyVisible:!1,trackingName:"search_forum"},u()("Search"))))},SearchBox}(a.a.Component);b.contextTypes={router:s.a.object.isRequired},e.a=b},"8gSW":function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),o=t("17x9"),a=t.n(o),i=t("q1tI"),s=t.n(i),c=t("wd/R"),u=t.n(c),l=t("F/us"),d=t.n(l),p=t("m+mO"),m=t("9A5E"),h=t("8cuT"),f=t("eMx6"),b=t("8Hdl"),g=t("fAYU"),y=t("oEqI"),v=t("AeFk"),O=t("vOU6"),j=function(e){function ThreadsListEntry(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state={threadFocus:!1},t.style={},t.componentWillMount=function(){t.style={padding:"24px 0",position:"relative",borderBottom:"1px solid ".concat(t.props.theme.palette.gray[300]),"&:last-child":{borderBottom:"none"},"&.focused, &:hover, &.focused a":{textDecoration:"none"},".forReader":{height:0,width:0}}},t.handleThreadFocus=function(){t.setState({threadFocus:!0})},t.handleThreadBlur=function(){t.setState({threadFocus:!1})},t}var t;return n()(ThreadsListEntry,e),ThreadsListEntry.prototype.render=function render(){var e,t,r,n=this.props,o=n.entry,a=n.isPinned,i=n.isDeleted,s=n.threadUrl,c=n.viewCount,l=n.answerCount,d=n.badge,h=n.threadName,y=n.timestamp,j=n.questionId,S=n.questionUserId,C=this.state.threadFocus,I=void 0!==c&&!Number.isNaN(c),x=void 0!==l&&!Number.isNaN(l),F="".concat(a?"Pinned ":"","Thread: ").concat(h,", \n                          ").concat(u()(y).fromNow(),"\n                          ").concat(I?", ".concat(c," views"):""," \n                          ").concat(x?", ".concat(l," replies"):"");return Object(v.d)("li",{css:this.style,className:"rc-forumsV2_DiscussionsBody_ThreadsListEntry ".concat(C?"focused":"blurred")},this.props.entry&&Object(v.d)(O.a,{title:this.props.entry.content.question,pinned:a,titleLink:s&&Object(v.d)(b.a,{variant:"h2semibold",className:"rc-ForumsV2_ForumThreadCard__title"},Object(v.d)(g.a,{component:m.c,href:s,trackingName:"thread_list_entry","aria-label":F,data:{question_id:j,question_user_id:S}},this.props.entry.content.question))||void 0,threadUrl:s,description:Object(v.d)(f.a,{cml:null===(e=this.props)||void 0===e?void 0:null===(t=e.entry)||void 0===t?void 0:null===(r=t.content)||void 0===r?void 0:r.details,contentLineCountMax:2}),isUpvoted:this.props.entry.isUpvoted,upvoteCount:this.props.entry.upvoteCount,forumQuestionId:this.props.questionId,creator:this.props.entry.creator,createdAt:this.props.entry.createdAt,replyCount:this.props.answerCount,lastReplier:this.props.profile,lastReplyDate:this.props.timestamp,answerCount:this.props.answerCount,badge:d}),i&&Object(v.d)(p.a,{entry:o,hideUndoDelete:!0}))},ThreadsListEntry}(s.a.Component);j.contextTypes={executeAction:a.a.func.isRequired},j.defaultProps={isPinned:!1,isDeleted:!1,isRead:!0},e.a=d.a.compose(Object(h.a)(["CourseStore","ClassmatesProfileStore"],function(e,t){var r=e.CourseStore,n=e.ClassmatesProfileStore,o=t.profile;return{courseId:r.getCourseId(),fullProfile:d()(n.profiles).findWhere({externalId:o.externalUserId})}}))(Object(y.a)(j))},"9UIe":function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),o=t("q1tI"),a=t.n(o),i=t("17x9"),s=t.n(i),c=t("MnCE"),u=t("Pzz+"),l=t("JRPf"),d=t("WKvM"),p=t("eE4N"),m=t("JVW9"),h=t("BVC1"),f=t("+LJP"),b=t("8cuT"),g=t("EdUP"),y=t("hN99"),v=t("pqXt"),O=t("oQ9N"),j=t("kvW3"),S=t("GP6s"),C=t.n(S),I=t("3SNW"),x=t.n(I),F=t("N43y"),T=t.n(F),w=t("8Hdl"),N=function(e){function SearchResults(t,r){var n,o;((n=e.call(this,t,r)||this).handleQueryChange=function(e){n.setState({query:e})},n.handleSearchCourse=function(e){var t=n.state.query,r=n.props.rootPath,o=n.context.router;e.preventDefault();var a=h.a.join(null!=r?r:[],"discussions/all");o.push({pathname:a,params:{},query:{q:t}})},n.onPageChange=function(e){var t=n.props,r=t.query,o=t.currentForum,a=t.contextId,i=t.hasModerationRole,s=n.context,c=s.router,u=s.executeAction;c.push({pathname:c.location.pathname,params:{},query:Object.assign(c.location.query,{page:e})}),u(l.a.goToPage,{query:r,pageNum:e,forumId:o.forumId,filterQueryString:n.props.filterQueryString,contextId:a,forumType:o.forumType.typeName,includeDeleted:i})},n.submitSearch=function(){var e=n.state.query,t=n.context.router;if(e){var r=e.replace("*","");t.push({pathname:window.location.pathname,params:{},query:{q:r}})}},n.navigateBack=function(e){var t=n.context.router,r=n.props.currentForumUrl;e.preventDefault(),t.push(r)},n.state={query:t.query||""},t.query)&&(0,n.context.executeAction)(l.a.search,{query:t.query,filterQueryString:t.filterQueryString,pageNum:t.page,forumId:t.currentForum.forumId,contextId:t.contextId,forumType:t.currentForum.forumType.typeName,reset:!0,includeDeleted:t.hasModerationRole});return n}n()(SearchResults,e);var t=SearchResults.prototype;return t.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this.props,r=t.query,n=t.pathname,o=t.currentForum,a=t.filterQueryString,i=t.page,s=this.context.executeAction;e.query===r&&e.pathname===n&&e.currentForum.id===o.id&&e.filterQueryString===a||(this.setState({query:e.query}),s(l.a.search,{query:e.query,filterQueryString:e.filterQueryString,pageNum:i,forumId:e.currentForum.forumId,contextId:e.contextId,forumType:e.currentForum.forumType.typeName,reset:a!==e.filterQueryString,includeDeleted:e.hasModerationRole}))},t.render=function render(){var e=this.props,t=e.currentForum,r=e.currentForumUrl,n=e.loadingState,o=e.numResults,i=e.currentResults,s=e.page,c=e.pageCount,l=e.query,h,f=this.context.router.isActive({pathname:Object(y.c)()}),b=t.title,g=r,v=n===u.i.DONE?C()("#{numResults} Discussions",{numResults:o}):C()("Finding search results in #{displayName}",{displayName:b}),O,S=a.a.createElement("div",{className:"results-metadata"},a.a.createElement(w.a,{variant:"h2semibold","aria-live":"polite"},n===u.i.DONE?a.a.createElement("span",null,v):a.a.createElement(j.b,{message:C()("Finding search results in {displayName}"),displayName:b})));return n===u.i.DONE&&i.length>0&&(O=i.map(function(e,t){return a.a.createElement(p.a,{page:s,query:l,forumLink:g||"",entry:e,index:t})})),a.a.createElement("div",{className:"rc-ForumsV2__DiscussionsSearchResults"},!f&&S,a.a.createElement(d.a,{loadingState:n},O),a.a.createElement(m.a,{style:{textAlign:"center"},onClickHandler:this.onPageChange,pageCount:c||1,currentPage:s,maxPages:5}))},SearchResults}(a.a.Component);N.contextTypes={executeAction:s.a.func.isRequired,router:s.a.object.isRequired},e.a=Object(c.compose)(Object(f.a)(function(e){return{query:decodeURIComponent(e.location.query.q),pathname:e.location.pathname}}),Object(O.a)({fields:["title","link","forumType"]}),Object(f.a)(v.a),Object(b.a)(["DiscussionsSearchStore","SessionFilterStore"],function(e,t){var r=e.DiscussionsSearchStore,n=e.SessionFilterStore,o=t.currentForum.forumId;return{filterQueryString:n.activeFilterQueryString,currentResults:r.searchResults({forumId:o,query:t.query,pageNum:r.currentPage}),loadingState:r.loadingState,pageCount:r.getPageCount({forumId:o,query:t.query}),numResults:r.getNumResults({forumId:o,query:t.query})}}),Object(g.a)(function(e){return e.currentForum}))(N);var P=N},BS7q:function(module,e,t){"use strict";var r=t("VkAN"),n=t.n(r),o=t("AeFk"),a=t("eJMc"),i=t.n(a),s=t("763+"),c=t("6/Gu"),u=t("8Hdl"),l=t("kmRs"),d=t("wd/R"),p=t.n(d),m=t("kvW3"),h=t("7GkZ"),f=t("h4VP"),b=t("Fmrb"),g=t.n(b),y=t("GbG/"),v=t.n(y);function _templateObject4(){var e=n()(["\n                  display: flex;\n                  align-items: center;\n                "]);return _templateObject4=function _templateObject4(){return e},e}function _templateObject3(){var e=n()(["\n                justify-content: flex-end;\n                align-items: center;\n              "]);return _templateObject3=function _templateObject3(){return e},e}function _templateObject2(){var e=n()(["\n                padding: 0;\n              "]);return _templateObject2=function _templateObject2(){return e},e}function _templateObject(){var e=n()(["\n              margin-bottom: ",";\n            "]);return _templateObject=function _templateObject(){return e},e}function ForumsLabel(e){var t=e.discussionsLink,r=e.title,n=e.description,a=e.lastAnsweredAt,d=e.forumQuestionCount,b=Object(s.a)(),y="number"==typeof d,v=!!a,O=1===d?g()("thread"):g()("threads"),j=n.definition.value,S=j.startsWith("<co-content>")&&j.endsWith("</co-content>"),C=!f.c.isEmpty(n)&&S,I="Forum: ".concat(r,"\n                       ").concat(C?f.c.getInnerText(n):"","\n                       ").concat(v?"Last Post: ".concat(p()(a).fromNow()):"","\n                       ").concat(y?"".concat(d," ").concat(O):"");return Object(o.d)(i.a,{className:"rc-ForumsLabel nostyle",to:t,"aria-label":I},Object(o.d)("div",null,Object(o.d)(c.a,{container:!0,xs:12},Object(o.d)(c.a,{item:!0,xs:7,css:Object(o.c)(_templateObject(),b.spacing(16))},Object(o.d)(u.a,{variant:"h2semibold",component:"p",css:Object(o.c)(_templateObject2())},r),!f.c.isEmpty(n)&&Object(o.d)(h.a,{cml:n,isCdsEnabled:!0}),v&&Object(o.d)(u.a,{variant:"body2",color:"supportText",component:"span"},Object(o.d)(m.b,{message:g()("Last post {timeAgo}"),timeAgo:p()(a).fromNow()}))),y&&Object(o.d)(c.a,{container:!0,item:!0,xs:5,spacing:8,css:Object(o.c)(_templateObject3())},Object(o.d)(c.a,{item:!0},Object(o.d)(u.a,{className:"threads-count"},"".concat(d," ").concat(O))),Object(o.d)(c.a,{item:!0,css:Object(o.c)(_templateObject4())},Object(o.d)(l.a,{size:"small"}))))))}e.a=ForumsLabel},BhsZ:function(module,e,t){"use strict";var r=t("VkAN"),n=t.n(r),o=t("oJmH"),a=t.n(o),i=t("lTCR"),s=t.n(i);function _templateObject(){var e=n()(['\n    mutation($helperId: String) {\n      maybeAddHelpers(action: "maybePromoteCandidateToHelper", helperId: $helperId, input: {})\n        @rest(type: "ForumHelperV1", path: "forumHelpers.v1/?{args}", method: "POST") {\n        NoResponse\n      }\n    }\n  ']);return _templateObject=function _templateObject(){return e},e}e.a=Object(o.graphql)(s()(_templateObject()),{name:"maybeAddHelpers"})},"BoL+":function(module,e,t){"use strict";t.d(e,"a",function(){return O}),t.d(e,"b",function(){return x});var r=t("lSNA"),n=t.n(r),o=t("AeFk"),a=t("TmOg"),i=t("F/us"),s=t.n(i),c=t("w/1P"),u=t.n(c),l=t("763+"),d=t("6/Gu"),p=t("eJMc"),m=t.n(p),h=t("Fmrb"),f=t.n(h),b=t("+LJP"),g=t("hN99"),y=t("qenF"),v=t("gNwb");function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){n()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var O={ALL:"all",FORYOU:"foryou",ACTIVITY:"activity"},j=Object(v.d)({type:"BUTTON"})(m.a),S=function tabsStyles(e){return{".discussionsLandingPageTabs":{borderBottom:"1px solid ".concat(e.palette.gray[300]),justifyContent:"space-between"},"ul.tabs li.colored-tab a.selected":_objectSpread({borderBottom:"4px solid ".concat(e.palette.blue[600]),borderLeft:"none",paddingBottom:"13px",color:e.palette.blue[600]},e.typography.h3bold),"ul.tabs li.colored-tab a:hover":{borderLeft:"none"},"ul.tabs li.colored-tab a":_objectSpread({borderBottom:"4px solid transparent",borderLeft:"none",paddingBottom:"13px"},e.typography.body1)}};function getDefaultTab(e){var t=Object(y.a)()||e.ALL;if("control"===t)return e.ALL;return t}function orderTabs(e){var t,r;return(t={},n()(t,O.ALL,[O.ALL,O.FORYOU,O.ACTIVITY]),n()(t,O.FORYOU,[O.FORYOU,O.ALL,O.ACTIVITY]),t)[e]}function getActiveTab(e){var t=e.router,r=e.tabs,n=null;return r.forEach(function(e){t.isActive(Object(g.g)(e),!0)&&(n=e)}),n}function getTabs(e,t){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:getDefaultTab(t),a=(r={},n()(r,t.FORYOU,{title:f()("Posts for you"),pathname:Object(g.g)(t.FORYOU),query:"",isActive:!1,tabKey:t.FORYOU}),n()(r,t.ALL,{title:f()("All forums"),pathname:Object(g.g)(t.ALL),query:"",isActive:!1,tabKey:t.ALL}),n()(r,t.ACTIVITY,{title:f()("Your activity"),pathname:Object(g.g)(t.ACTIVITY),query:"",isActive:!1,tabKey:t.ACTIVITY}),r),i=orderTabs(o),s=getActiveTab({router:e,tabs:i})||i[0];return{activeTab:s,orderedTabs:i.map(function(e){var t=Object.assign({},a[e]);return e===s&&(t.isActive=!0),t})}}var C=function onTabEnter(e,t){e(t["data-link"])},I=function Tab(e){var t=e.title,r=e.pathname,n=e.query,a=e.isActive,i=e.tabKey,s={query:n,pathname:r};return Object(o.d)("li",{id:"tab-".concat(i),role:"tab","aria-controls":"panel-".concat(i),"aria-selected":a,className:u()("colored-tab",{selected:a}),key:t},Object(o.d)(j,{to:s,className:a?"selected":void 0,trackingName:"track_active_forum_tabs"},t))},x=function TabPanel(e){var t=e.activeTab,r=e.children,n=e.tabName;if(t===n)return Object(o.d)("div",{id:"panel-".concat(n),role:"tabpanel"},r);return null};function TabList(e){var t=e.children,r=Object(l.a)();return Object(o.d)(d.a,{container:!0,item:!0,xs:12,css:S(r)},Object(o.d)(d.a,{container:!0,className:"discussionsLandingPageTabs"},Object(o.d)(d.a,{item:!0},Object(o.d)("ul",{className:"tabs horizontal-box",role:"tablist"},t))))}var F=Object(a.a)(TabList);function DiscussionsLandingPageTabs(e){var t=e.tabs,r=e.updateLocation,n=e.children,a=t.activeTab,i=t.orderedTabs;return Object(o.d)("section",null,Object(o.d)(F,{onEnter:function onEnter(e){return C(r,e["data-link"])}},i.map(function(e){return Object(o.d)(I,{title:e.title,pathname:e.pathname,isActive:e.isActive,query:e.query,tabKey:e.tabKey})})),Object(o.d)("div",null,n({activeTab:a})))}e.c=Object(i.compose)(Object(b.a)(function(e){return{isBaseForumsActive:e.isActive({pathname:Object(g.h)()},!0),query:e.location.query,tabs:getTabs(e,O),updateLocation:e.push}}))(DiscussionsLandingPageTabs)},Cytz:function(module,e,t){"use strict";var r=t("VkAN"),n=t.n(r),o=t("AeFk"),a=t("F/us"),i=t.n(a),s=t("q1tI"),c=t.n(s),u=t("BVC1"),l=t("lj0O"),d=t("BS7q"),p=t("BZ+2"),m=t("Fi0Z"),h=t("oQ9N"),f=t("Pzz+"),b=t("hN99"),g=t("u5mk"),y=t("Fmrb"),v=t.n(y),O=t("J91Q"),j=t.n(O),S=t("763+"),C=t("zXDh");function _templateObject2(){var e=n()(["\n              border-bottom: 1px solid ",";\n              padding: ",";\n              &:hover {\n                background-color: ",";\n              }\n            "]);return _templateObject2=function _templateObject2(){return e},e}function _templateObject(){var e=n()(["\n          list-style: none;\n          margin: 0;\n          padding: 0;\n        "]);return _templateObject=function _templateObject(){return e},e}function DiscussionsWeekForums(e){var t=e.courseForums.filter(function(e){return e.forumType.typeName===f.j.weekForumType}).map(function(t){var r=e.courseForumStatistics.find(function(e){return e.courseForumId===t.id});return Object.assign({},t,{discussionsLink:u.a.join(Object(b.j)(e.courseSlug),t.link),lastAnsweredAt:r&&r.lastAnsweredAt,forumQuestionCount:r&&r.forumQuestionCount})}),r=Object(S.a)(),n=Object(C.isUserRightToLeft)();return Object(o.d)(l.a,{className:"rc-DiscussionsWeekForums",title:e.customLabelsV2?void 0:v()("Week Forums")},Object(o.d)("ul",{css:Object(o.c)(_templateObject())},t.map(function(e){return Object(o.d)("li",{key:e.id,css:Object(o.c)(_templateObject2(),r.palette.gray[300],r.spacing(24),r.palette.blue[50])},Object(o.d)(d.a,{discussionsLink:e.discussionsLink,title:e.title,description:e.description,lastAnsweredAt:e.lastAnsweredAt,forumQuestionCount:e.forumQuestionCount}))})))}e.a=Object(a.compose)(Object(h.a)({fields:["link","title","description","lastAnsweredAt","forumQuestionCount"]}),g.a)(DiscussionsWeekForums)},DF7H:function(module,e,t){"use strict";t.d(e,"a",function(){return L});var r=t("VbXa"),n=t.n(r),o=t("q1tI"),a=t.n(o),i=t("17x9"),s=t.n(i),c=t("F/us"),u=t.n(c),l=t("BVC1"),d=t("EdUP"),p=t("W1i5"),m=t("+LJP"),h=t("3JZf"),f=t("8cuT"),b=t("JPjw"),g=t("IDuc"),y=t("I4GC"),v=t("QT90"),O=t("E4Nz"),j=t("6B5c"),S=t("hN99"),C=t("h4VP"),I=t("GLvD"),x=t("Pzz+"),F=t("pqXt"),T=t("oQ9N"),w=t("GP6s"),N=t.n(w),P=t("uaFu"),E=t("rfaR"),A=t.n(E),R=t("8Hdl"),k=t("ZJgU"),q=function(e){function NewThreadButton(t,r){var n;return(n=e.call(this,t,r)||this).handleSubmit=function(){var e=n.state,t=e.currentForum,r=e.activeFilterId,o=e.title,a=e.content,i=n.props,s=i.userId,c=i.filter,l=i.showSessionSelector,d=n.context.executeAction,p;if(u()(n.state).any(function(e){return e.hasError}))o.hasError?n.titleElemRef.focus():a.hasError?n.contentElemRef.focus():t.hasError&&n.forumElemRef.focus(),n.setState({showErrors:!0});else{var m={title:o.value,content:a.value,context:""};l?m.context=r:c&&(m.context=c.id);var h=!!m.context&&"all"!==m.context&&"ondemand"!==m.context,f={content:{question:m.title,details:m.content},overrideSessionId:h?m.context:void 0,state:{},userId:s,courseForumId:t.value.id,mentorForumId:t.value.id,groupForumId:t.value.id},b=t.value.forumId,g=t.value.forumType&&t.value.forumType.typeName;n.setState({saving:!0}),d(O.a,{options:f,forumType:g,forumId:b})}},n.handleDropdownChange=function(e){n.setState({activeFilterId:e})},n.handleOpenModal=function(){var e=n.props,t=e.userId,r=e.course,o=e.verificationDisplay;Object(j.a)(t,r,o).then(function(){return n.handleOpen()})},n.handleCancel=function(){n.setState(n.resetState())},n.handleCloseModal=function(){n.setState({showModal:!1})},n.handleInputChange=function(e,t){var r=n.state[e];r.value=t.value,r.hasError=!t.isValid,n.setState(function(e){return e})},n.clearErrorsAndSubmit=function(){n.setState({showErrors:!1}),setTimeout(function(){n.handleSubmit()},500)},n.setTitleElemRef=function(e){n.titleElemRef=e},n.setContentElemRef=function(e){n.contentElemRef=e},n.setForumElemRef=function(e){n.forumElemRef=e},n.state=n.resetState(),n.titleElemRef={},n.contentElemRef={},n.forumElemRef={},n}n()(NewThreadButton,e);var t=NewThreadButton.prototype;return t.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this.props.threadSavingState,r;if(!this.state.saving){var n,o=this.props.currentForum,a=!o;this.setState({currentForum:{value:o,hasError:a}})}t===x.m.SAVING&&e.threadSavingState===x.m.SAVED?this.handleSaveSuccess(e.newThread):t===x.m.SAVING&&e.threadSavingState===x.m.ERROR&&this.handleSaveError()},t.handleSaveSuccess=function handleSaveSuccess(e){var t=this.context.router,r=this.state.currentForum,n=this.props.rootPath,o=l.a.join(n,r.value.link);t.push(Object(S.a)(o,e.questionId)),this.setState(this.resetState())},t.handleSaveError=function handleSaveError(){this.setState({saveError:!0,saveErrorMessage:N()("Something went wrong. Please reload the page and try again."),saving:!1})},t.handleOpen=function handleOpen(){var e=this.state.showModal;this.setState(function(){return{showModal:!e}})},t.resetState=function resetState(){var e,t=this.props.currentForum,r=!t;return{showModal:!1,title:{value:"",hasError:!0},content:{value:C.c.create("",x.a),hasError:!0},currentForum:{value:t,hasError:r},showErrors:!1,saving:!1,saveError:!1,saveErrorMessage:"",activeFilterId:""}},t.render=function render(){var e=this,t=this.state,r=t.showModal,n=t.saving,o=t.saveError,i=t.content,s=t.showErrors,c=t.title,l=t.currentForum,d=t.saveErrorMessage,p=this.props,m=p.courseId,h=p.showSessionSelector,f=p.rootForumId,O=p.forums,j=I.a.generateContentLengthWarning(i.value),S=a.a.createElement("div",{className:"error-text c-modal-error-message"},d),C=null,x=l.value,F=O.filter(function(e){return!e.parentForumId||e.parentForumId===f}),T=u()(F.map(function(e){return[e].concat(O.filter(function(t){return t.parentForumId===e.id}))})).flatten(),w;T.length&&(C=a.a.createElement("div",{className:"c-input-area"},a.a.createElement(P.a,{fieldName:N()("Forum")}),a.a.createElement(y.b,{id:"forum-selector",rootForumId:f,hasError:s&&l.hasError,handleInputChange:this.handleInputChange,forums:T,value:x,elemRefHook:this.setForumElemRef}))),h&&(w=a.a.createElement("div",{className:"context-selector-container"},a.a.createElement("div",{className:"bgcolor-divider bt3-pull-left section-divider"}),a.a.createElement("div",{className:"c-input-area"},a.a.createElement(R.a,{component:"h3",variant:"h2semibold"},N()("You're currently viewing All Sessions.")),a.a.createElement(R.a,{component:"label",htmlFor:"new-thread-sessions-switcher"},a.a.createElement("span",{className:"caption-text color-secondary-text"},N()("Which session should this thread go in?"))),a.a.createElement(v.a,{id:"new-thread-sessions-switcher",hideAllSessionsOption:!0,limitSwitchingToCurrentBranch:!0,dropup:!0,handleDropdownChange:this.handleDropdownChange}))));var E=a.a.createElement(b.a,{onRequestClose:this.handleCloseModal,modalName:N()("Create a new post"),className:"rc-personalization__NewThreadModal large"},a.a.createElement(R.a,{component:"h1",variant:"h1semibold",className:"c-modal-title"},N()("Create a new post")),a.a.createElement("div",{className:"c-input-area"},a.a.createElement(P.a,{fieldName:N()("Title")}),a.a.createElement(y.c,{id:"title-input",hasError:s&&c.hasError,value:c.value,handleInputChange:this.handleInputChange,elemRefHook:this.setTitleElemRef})),a.a.createElement("div",{className:"c-input-area"},a.a.createElement(P.a,{fieldName:N()("Body")}),a.a.createElement(y.a,{id:"content-input",courseId:m,hasError:s&&i.hasError,handleInputChange:this.handleInputChange,cml:i.value,elemRefHook:this.setContentElemRef})),C,w,a.a.createElement("div",null,j,o&&S,a.a.createElement("div",{className:"horizontal-box align-items-right"},a.a.createElement(k.a,{size:"small",variant:"secondary",type:"button",onClick:this.handleCancel},N()("Cancel")),"  ",a.a.createElement(k.a,{component:g.a,ref:function ref(t){e.submitButton=t},disabled:n,size:"small",variant:"primary",type:"submit",onClick:this.clearErrorsAndSubmit,trackingName:"new_thread_create",withVisibilityTracking:!0,requireFullyVisible:!1},N()("Post")))));return a.a.createElement("div",{className:"rc-personalization__NewThreadForm"},a.a.createElement(k.a,{component:g.a,className:"new-thread-button",variant:"secondary",size:"small",ref:function ref(t){e.newThreadButton=t},id:"new-thread-btn",onClick:this.handleOpenModal,trackingName:"new_thread_button",withVisibilityTracking:!0,requireFullyVisible:!1},N()("Create post")),r&&E)},NewThreadButton}(a.a.Component);q.contextTypes={executeAction:s.a.func.isRequired,router:s.a.object.isRequired};var D=u.a.compose(Object(f.a)(["SessionFilterStore","ThreadsStore","ApplicationStore","CourseMembershipStore","VerificationStore","CourseStore"],function(e,t){var r=e.SessionFilterStore,n=e.ThreadsStore,o=e.ApplicationStore,a=e.CourseMembershipStore,i=e.VerificationStore,s=e.CourseStore;return{showSessionSelector:(o.isSuperuser()||a.hasModerationRole())&&"all"===r.activeFilterQueryString,filter:r.activeFilter,threadSavingState:n.savingState,newThread:n.threadToInsert,userId:o.getUserData().id,verificationDisplay:i.getVerificationDisplay(),course:s.getMetadata(),courseId:s.getCourseId()}}),Object(T.a)({fields:["forumType","title","link"]}),Object(m.a)(F.a),Object(p.a)(function(e){var t=e.currentForum&&e.currentForum.forumType.typeName!==x.j.rootForumType&&e.currentForum||void 0,r=e.courseForums&&e.courseForums.find(function(e){return e.forumType.typeName===x.j.rootForumType});return{forums:e.courseForums?e.courseForums.filter(function(e){return e.forumType.typeName!==x.j.rootForumType}).concat(e.mentorForums).concat(e.groupForums):[],rootForumId:r&&r.id,currentForum:t,currentForumId:t&&t.id}}),Object(d.a)(function(e){return e.forums.length}))(q);e.b=Object(h.a)()(D);var L=D,M=q},EJTp:function(module,exports,e){},"GbG/":function(module,exports,e){var t=e("gYV5"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},o=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},GtUH:function(module,exports,e){var t=e("EJTp"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},o=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},HgcT:function(module,exports,e){},Iqdo:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),o=t("q1tI"),a=t.n(o),i=t("17x9"),s=t.n(i),c=t("GP6s"),u=t.n(c),l=t("kcfJ"),d=t("IDuc"),p=t("ZJgU"),m=t("oEqI"),h=t("kyt0"),f=t("AeFk"),b=function(e){function SearchBar(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleChange=function(e){var r,n;(0,t.props.handleChange)(e.target.value)},t.handleSubmitClick=function(e){var r;e.preventDefault(),(0,t.props.handleSubmit)()},t.handleClear=function(){var e=t.context.router,r=e.location,n=r.query,o=r.pathname,a=e.params,i=t.props,s=i.handleBlur,c=i.handleClear;n.q||s(),c(),delete n.q,e.push({pathname:o,params:a,query:n})},t.handleBlur=function(){var e=t.props.handleBlur;e&&e()},t.handleKeyDown=function(e){var r=t.props,n=r.handleSubmit,o=r.handleBlur,a=r.handleShiftTab;switch(e.key){case"Enter":n();break;case"Tab":e.shiftKey&&o&&(o(),a(e))}},t.handleClearKeyDown=function(e){var r=t.props,n=r.handleBlur,o=r.handleShiftTab;switch(e.key){case"Enter":t.handleClear();break;case"Tab":e.shiftKey&&n&&(n(),o(e))}},t.submitKeyDown=function(e){var r=t.props,n=r.handleTab,o=r.handleShiftTab,a=r.handleSubmit;"Tab"===e.key?e.shiftKey?o(e):n(e):"Enter"!==e.key&&" "!==e.key||a()},t}var t;return n()(SearchBar,e),SearchBar.prototype.render=function render(){var e=this,t=this.props,r=t.query,n=t.theme,o=t.placeholder,a=Object(f.c)({flexBasis:"30px"}),i=Object(f.c)({zIndex:1e3,border:"none",".input-area":{background:"#FFFFFF",border:"1px solid #666666",boxSizing:"border-box",borderRadius:"4px",margin:n.spacing(0,8,0,0),".search-input":{borderRadius:"4px",padding:"7px 12px"},".cif-cancel-hint":{opacity:1,margin:n.spacing(0,0,0,16)}}}),s=Object(f.c)({display:"flex"}),c=Object(f.d)(h.a,{size:"small",role:"button",onMouseDown:this.handleClear,tabIndex:0,onKeyDown:this.handleClearKeyDown,"aria-label":u()("Clear Search"),css:a});return Object(f.d)("div",{className:"rc-personalization__SearchBar search-bar expand-block expanded flex-1",css:i},Object(f.d)("div",{className:"input-area",css:s},Object(f.d)(l.a,{trackingName:"search_bar",value:r,placeholder:o,onChange:this.handleChange,onKeyDown:this.handleKeyDown,ref:function ref(t){e.searchbox=t},"aria-label":u()("Search Input"),className:"search-input"}),r&&c),Object(f.d)(p.a,{component:d.a,variant:"primary",size:"small",withVisibilityTracking:!0,requireFullyVisible:!1,onClick:this.handleSubmitClick,onMouseDown:this.handleSubmitClick,onKeyDown:this.submitKeyDown,onBlur:this.handleBlur,trackingName:"search_forum","aria-label":u()("submit search")},u()("Search")))},SearchBar}(o.Component);b.contextTypes={router:s.a.object.isRequired},b.defaultProps={handleBlur:function handleBlur(){},handleTab:function handleTab(){},handleShiftTab:function handleShiftTab(){},handleClear:function handleClear(){}},e.a=Object(m.a)(b)},J91Q:function(module,exports,e){var t=e("x1cE"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},o=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},"Jpi+":function(module,exports,e){},NcZ8:function(module,e,t){"use strict";var r=t("7XSy");t.d(e,"b",function(){return r.a});var n=t("4a6e");t.d(e,"a",function(){return n.a});var o=t("9UIe")},Ot7t:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),o=t("AeFk"),a=t("6/Gu"),i=t("8Hdl"),s=t("ZJgU"),c=t("F/us"),u=t.n(c),l=t("17x9"),d=t.n(l),p=t("q1tI"),m=t.n(p),h=t("q5zD"),f=t("Fmrb"),b=t.n(f),g=t("kvW3"),y=t("8cuT"),v=t("+LJP"),O=t("Pzz+"),j=t("GtUH"),S=t.n(j),C=function(e){function LandingPageSearchResultsSummary(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).cancelSearchResults=function(){t.context.router.push({pathname:t.context.router.location.pathname,params:t.context.router.params,query:{}})},t}var t;return n()(LandingPageSearchResultsSummary,e),LandingPageSearchResultsSummary.prototype.render=function render(){var e=this.props,t=e.numResults,r=e.query,n=e.loadingState;if(!r)return null;return Object(o.d)(a.a,{container:!0,item:!0,xs:12,className:"rc-LandingPageSearchResultsSummary "},Object(o.d)(i.a,{className:"search-results","aria-live":"polite",id:"landing-page-search-results"},n===O.i.DONE?Object(o.d)(g.a,{message:b()("{numResults} {numResults, plural,\n              =1 {search result} =0 {0 search results} other {search results}} for {query}"),numResults:t,query:Object(o.d)("strong",null,r)}):Object(o.d)(g.b,{message:b()("Loading search results...")})),Object(o.d)(s.a,{type:"button",onClick:this.cancelSearchResults,variant:"ghost","data-e2e":"cancel-search-button"},Object(o.d)(h.a,{name:"close",className:"color-secondary-text"})))},LandingPageSearchResultsSummary}(m.a.Component);C.propTypes={id:d.a.string,query:d.a.string,numResults:d.a.number,loadingState:d.a.oneOf(Object.keys(O.i))},C.contextTypes={router:d.a.object.isRequired},e.a=Object(c.compose)(Object(v.a)(function(e){return{query:e.location.query.q&&decodeURIComponent(e.location.query.q)}}),Object(y.a)(["DiscussionsSearchStore"],function(e,t){var r=e.DiscussionsSearchStore;return{numResults:r.getNumResults({forumId:t.id,query:t.query}),loadingState:r.loadingState}}))(C)},Pz00:function(module,e,t){"use strict";var r=t("VkAN"),n=t.n(r),o=t("AeFk"),a=t("q1tI"),i=t.n(a),s=t("Fmrb"),c=t.n(s),u=t("/ZHP"),l=t.n(u),d=t("763+"),p=t("8Hdl");function _templateObject(){var e=n()(["\n          padding: ",";\n        "]);return _templateObject=function _templateObject(){return e},e}function DiscussionsLandingPageHeader(){var e=Object(d.a)();return Object(o.d)("div",{className:"rc-DiscussionsLandingPageHeader "},Object(o.d)("div",{css:Object(o.c)(_templateObject(),e.spacing(32,0,32,0))},Object(o.d)(p.a,{variant:"h1semibold"},c()("Forums"))))}e.a=DiscussionsLandingPageHeader},Tt7p:function(module,e,t){"use strict";var r=t("VkAN"),n=t.n(r),o=t("q1tI"),a=t.n(o),i=t("lTCR"),s=t.n(i),c=t("oJmH"),u=t.n(c);function _templateObject(){var e=n()(['\n  query GetPostsForYouQuery($input: InputVariables!) {\n    GetPostsForYouResponse(input: $input)\n      @rest(\n        type: "GetPostsForYouResponse"\n        path: "grpc/forum/post/v1beta1/PostsForYouAPI/GetPostsForYou"\n        method: "POST"\n      ) {\n      postResults\n      nextPageToken\n      totalHits\n    }\n  }\n']);return _templateObject=function _templateObject(){return e},e}var l=s()(_templateObject()),d=function PostsForYouTabDataProvider(e){var t=e.courseId,r=e.currentPage,n=e.children;return a.a.createElement(c.Query,{query:l,variables:{input:{course_id:t,page_size:15,page_token:(15*(r-1)).toString()}}},function(e){var t=e.loading,r=e.error,o=e.data;if(t||r)return n({loading:t,error:r});var a={postResults:[],nextPageToken:"",totalHits:"0"},i=(null==o?void 0:o.GetPostsForYouResponse)||a;return n({loading:!1,error:r,data:i})})};e.a=d},UCz2:function(module,exports,e){var t=e("bypZ"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},o=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},Vp23:function(module,e,t){"use strict";t.d(e,"a",function(){return S});var r=t("pVnL"),n=t.n(r),o=t("lSNA"),a=t.n(o),i=t("VbXa"),s=t.n(i),c=t("q1tI"),u=t.n(c),l=t("17x9"),d=t.n(l),p=t("MnCE"),m=t("xaDw"),h=t("GnyC"),f=t("b+bd"),b=t("oQ9N"),g=t("W1i5"),y=t("ngyh"),v=t("UU2Q");function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){a()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var O=function(e){function DiscussionsCurrentWeekLoader(){return e.apply(this,arguments)||this}var t;return s()(DiscussionsCurrentWeekLoader,e),DiscussionsCurrentWeekLoader.prototype.render=function render(){var e=this.props,t=e.weekNumber,r=e.forum,n=e.forumStatistic;if(!t||!r)return null;return u.a.createElement(m.a,{weekNumber:t,isLoading:!1,title:r.title,description:r.description,lastAnsweredAt:n&&n.lastAnsweredAt,forumQuestionCount:n&&n.forumQuestionCount})},DiscussionsCurrentWeekLoader}(u.a.Component),j=Object(p.compose)(Object(b.a)({fields:["link","title","forumType","description","lastAnsweredAt","forumQuestionCount"]}),Object(f.a)(["CourseStore","CourseScheduleStore","ProgressStore"],function(e,t){var r=e.CourseStore,n=e.CourseScheduleStore,o=e.ProgressStore,a;return{weekNumber:t.weekNumber||Object(h.a)(r,n,o)}}),Object(g.a)(function(e){var t=e.courseForums.find(function(t){return t.forumType.definition.weekNumber===e.weekNumber});return _objectSpread(_objectSpread({},e),{},{forum:t,forumStatistic:t&&e.courseForumStatistics&&e.courseForumStatistics.find(function(e){return e.courseForumId===t.id})})}))(O),S=function(e){function FluxibleDiscussionsAppLoader(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).fluxibleContext=void 0,t}s()(FluxibleDiscussionsAppLoader,e);var t=FluxibleDiscussionsAppLoader.prototype;return t.componentWillMount=function componentWillMount(){var e=this.context.fluxibleContext;this.fluxibleContext=Object(v.a)(e)},t.render=function render(){var e;return u.a.createElement(y.a,{context:null===(e=this.fluxibleContext)||void 0===e?void 0:e.getComponentContext()},u.a.createElement(j,n()({},this.props,{isCourseWeekPage:!0})))},FluxibleDiscussionsAppLoader}(u.a.Component);S.contextTypes={fluxibleContext:d.a.object}},W8mr:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),o=t("q1tI"),a=t.n(o),i=t("F/us"),s=t.n(i),c=t("17x9"),u=t.n(c),l=t("oEqI"),d=t("eJMc"),p=t.n(d),m=t("IaEU"),h=t("dwck"),f=t("cu2+"),b=t("hN99"),g=t("8cuT"),y=t("uL/v"),v=t.n(y),O=function(e){function ProfileArea(t){var r;return(r=e.call(this,t)||this).profileAreaStyles=function(){return{".rc-ProfileArea .rc-ProfileImage .c-profile-initials":{backgroundColor:r.props.theme.palette.blue[100]}}},r.miniProfile=a.a.createRef(),r}var t;return n()(ProfileArea,e),ProfileArea.prototype.render=function render(){var e=this,t=this.props,r=t.externalUserId,n=t.fullName,o=t.profileImageUrl,i=t.courseRole,s=t.profile,c=t.onDisplayMiniProfile,u=t.helperStatus,l=Object(m.b)(i,u),d=Object(m.a)(l),g=void 0!==d&&"undefined"!==d,y="Name: ".concat(n,", \n                       ").concat(g?"Role: ".concat(d,", "):"","\n                       ").concat(s?"".concat(s.postsCount," posts, "):"","\n                       ").concat(s?"".concat(s.votesReceivedCount," votes"):""),v="".concat(r,"-tooltip");return a.a.createElement("span",{className:"rc-ProfileArea",css:this.profileAreaStyles()},a.a.createElement(p.a,{className:"nostyle c-profile-image-wrapper pii-hide",to:Object(b.p)(r),onMouseEnter:function onMouseEnter(t){c&&c(e.miniProfile),"display"in e.miniProfile&&e.miniProfile.display(t)},onFocus:function onFocus(t){c&&c(e.miniProfile),"display"in e.miniProfile&&e.miniProfile.display({pageY:t.target.offsetTop})},onMouseLeave:function onMouseLeave(t){return"hide"in e.miniProfile&&e.miniProfile.hide(t)},onBlur:function onBlur(t){return"hide"in e.miniProfile&&e.miniProfile.hide(t)},"aria-label":y},a.a.createElement(h.a,{courseRole:l,profileImageUrl:o,fullName:n,alt:n})),a.a.createElement("span",{"data-js":"mini-profile","aria-hidden":"true"},a.a.createElement(f.a,{ref:function ref(t){e.miniProfile=t},source:"profileArea",externalId:r,courseRole:l,toolTipId:v})))},ProfileArea}(a.a.Component);O.contextTypes={router:u.a.object.isRequired,executeAction:u.a.func.isRequired},e.a=s.a.compose(Object(g.a)(["CourseStore","ClassmatesProfileStore"],function(e,t){var r=e.CourseStore,n=e.ClassmatesProfileStore,o=t.externalUserId;return{courseId:r.getCourseId(),profile:s()(n.profiles).findWhere({externalId:o})}}))(Object(l.a)(O))},YB7u:function(module,e,t){"use strict";var r=t("lSNA"),n=t.n(r),o=t("VbXa"),a=t.n(o),i=t("AeFk"),s=t("6/Gu"),c=t("F/us"),u=t.n(c),l=t("17x9"),d=t.n(l),p=t("q1tI"),m=t.n(p),h=t("pkY2"),f=t("15pW"),b=t("BVC1"),g=t("oQ9N"),y=t("+LJP"),v=t("pqXt"),O=t("BZ+2"),j=t("Ot7t"),S=t("iljS"),C=t.n(S);function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){n()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var I=function(e){function LandingPageThreadsViewWrapper(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).styles=function(){return{width:"100%","div.rc-LandingPageThreadsViewWrapper":{maxWidth:"unset","div.forum-info.caption-text.color-secondary-text":_objectSpread(_objectSpread({},t.props.theme.typography.body1),{},{position:"relative",left:"-33px"}),"div.headline-1-text.question-title.color-primary-text.question-title-bold":_objectSpread({},t.props.theme.typography.h3bold),"& .rc-ThreadBadge.bgcolor-accent-brown-light":_objectSpread(_objectSpread({},t.props.theme.typography.h4bold),{},{backgroundColor:t.props.theme.palette.purple[50],color:t.props.theme.palette.purple[700]}),"& li.rc-ThreadsListEntry .cif-stack.pin-container":{height:"24px",width:"24px",margin:t.props.theme.spacing(0,8,0,0),position:"relative",top:"24px","& .cif-circle.cif-stack-2x.pin-background":{"&:before":{content:"none"},backgroundColor:t.props.theme.palette.yellow[500],borderRadius:"100%",height:"24px",width:"24px"},"& .cif-pin.cif-stack-lg.pin-icon":{margin:0,position:"relative",top:"-7px"}},"& .rc-Metadata.entry-metadata.caption-text.color-secondary-text":_objectSpread({},t.props.theme.typography.body2),"& .rc-ProfileName.nostyle.pii-hide":_objectSpread(_objectSpread({},t.props.theme.typography.h4bold),{},{color:t.props.theme.palette.blue[600]}),"& .ThreadListEntry button.c-new-thread-button.secondary":_objectSpread({},t.props.theme),".rc-DiscussionsBody, .rc-DiscussionsSearchResults":{width:"100%"},".rc-LandingPageSearchResultsSummary":{display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:t.props.theme.palette.blue[50]}}}},t}var t;return a()(LandingPageThreadsViewWrapper,e),LandingPageThreadsViewWrapper.prototype.render=function render(){if(!this.props.currentForum)return null;var e=b.a.join(f.d.learnRoot,this.props.courseSlug,this.props.currentForum.link);return Object(i.d)(s.a,{container:!0,item:!0,xs:12,className:"rc-LandingPageThreadsViewWrapper"},Object(i.d)(j.a,{id:this.props.currentForum.forumId}),Object(i.d)(h.a,{backLink:e}))},LandingPageThreadsViewWrapper}(m.a.Component);I.propTypes={search:d.a.string,currentForum:d.a.instanceOf(O.a),courseSlug:d.a.string},e.a=Object(c.compose)(Object(g.a)({fields:["link"]}),Object(y.a)(v.a))(I)},Z3FU:function(module,e,t){"use strict";var r=t("VkAN"),n=t.n(r),o=t("AeFk"),a=t("F/us"),i=t.n(a),s=t("7GkZ"),c=t("h4VP"),u=t("Fmrb"),l=t.n(u),d=t("8cuT"),p=t("oQ9N"),m=t("Pzz+"),h=t("763+"),f=t("8Hdl"),b=t("uJiD"),g=t("g12y");function _templateObject2(){var e=n()(["\n          margin: ",";\n        "]);return _templateObject2=function _templateObject2(){return e},e}function _templateObject(){var e=n()(["\n        padding: ",";\n        margin: ",";\n      "]);return _templateObject=function _templateObject(){return e},e}function DiscussionsDescription(e){var t=Object(h.a)(),r=Object(o.d)(f.a,{className:"description"},l()("Welcome to the discussion forums!\n            Ask questions, debate ideas, and find classmates who share your goals.\n            Browse popular threads below or other forums in the sidebar."));if(e.courseForums&&e.courseForums.length){var n=e.courseForums.find(function(e){return e.forumType.typeName===m.j.rootForumType});n&&!c.c.isEmpty(n.description)&&(r=Object(o.d)(s.a,{cml:n.description,isCdsEnabled:!0}))}return Object(o.d)(b.a,{className:"rc-DiscussionsDescription",css:Object(o.c)(_templateObject(),t.spacing(24),t.spacing(0,0,24,0))},Object(o.d)(f.a,{variant:"h2semibold",css:Object(o.c)(_templateObject2(),t.spacing(0,0,16,0))},l()("Description")),r,Object(o.d)(g.a,null))}e.a=Object(a.compose)(Object(d.a)(["CourseStore"],function(e){var t=e.CourseStore;return{courseId:t.getCourseId(),courseSlug:t.getCourseSlug()}}),Object(p.a)({fields:["description","forumType"]}))(DiscussionsDescription)},Z8Sg:function(module,e,t){"use strict";t.d(e,"a",function(){return l});var r=t("VbXa"),n=t.n(r),o=t("AeFk"),a=t("q1tI"),i=t.n(a),s=t("JOyW"),c=t("Fmrb"),u=t.n(c),l=function(e){function DiscussionsNotification(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state={isVisible:!0},t}n()(DiscussionsNotification,e);var t=DiscussionsNotification.prototype;return t.handleDismiss=function handleDismiss(){this.setState({isVisible:!1})},t.render=function render(){var e=this,t;return this.state.isVisible&&Object(o.d)("div",{className:"rc-WelcomeNotifications"},Object(o.d)(s.a,{trackingName:"subscribed_to_digest_notification",type:"info",message:u()("You have been successfully subscribed to the digest."),isDismissible:!0,onDismiss:function onDismiss(){return e.handleDismiss()}}))},DiscussionsNotification}(i.a.Component)},ZKQ4:function(module,e,t){"use strict";var r=t("VkAN"),n=t.n(r),o=t("AeFk"),a=t("F/us"),i=t.n(a),s=t("q1tI"),c=t.n(s),u=t("BVC1"),l=t("lj0O"),d=t("BS7q"),p=t("BZ+2"),m=t("zFZo"),h=t("Fi0Z"),f=t("Pzz+"),b=t("hN99"),g=t("oQ9N"),y=t("Fmrb"),v=t.n(y),O=t("nFDk"),j=t.n(O),S=t("763+");function _templateObject2(){var e=n()(["\n              border-bottom: 1px solid ",";\n              padding: ",";\n              &:hover {\n                background-color: ",";\n              }\n            "]);return _templateObject2=function _templateObject2(){return e},e}function _templateObject(){var e=n()(["\n          list-style: none;\n          margin: 0;\n          padding: 0;\n        "]);return _templateObject=function _templateObject(){return e},e}function DiscussionsCourseForums(e){var t=e.courseForums,r=e.mentorForums,n=e.courseForumStatistics,a=e.courseSlug,i=t.find(function(e){return e.forumType.typeName===f.j.rootForumType}),s=Object(S.a)(),c=r.filter(function(e){return!e.parentForumId}),p=t.filter(function(e){return e.parentForumId===i.id&&e.forumType.typeName===f.j.customForumType}),m=c.concat(p).map(function(e){var t=n.find(function(t){return t.courseForumId===e.id});return Object.assign(e,{discussionsLink:u.a.join(Object(b.j)(a),e.link),lastAnsweredAt:t&&t.lastAnsweredAt,forumQuestionCount:t&&t.forumQuestionCount})});if(0===m.length)return null;return Object(o.d)(l.a,{title:v()("Discussion Forums"),className:"rc-DiscussionsCourseForums"},Object(o.d)("ul",{css:Object(o.c)(_templateObject())},m.map(function(e){return Object(o.d)("li",{key:e.id,css:Object(o.c)(_templateObject2(),s.palette.gray[300],s.spacing(24),s.palette.blue[50])},Object(o.d)(d.a,{discussionsLink:e.discussionsLink,title:e.title,description:e.description,lastAnsweredAt:e.lastAnsweredAt,forumQuestionCount:e.forumQuestionCount}))})))}e.a=Object(a.compose)(Object(g.a)({fields:["link","title","description","lastAnsweredAt","forumQuestionCount","parentForumId"]}))(DiscussionsCourseForums)},ZxkJ:function(module,e,t){"use strict";var r=t("VkAN"),n=t.n(r),o=t("q1tI"),a=t.n(o),i=t("lTCR"),s=t.n(i),c=t("oJmH"),u=t.n(c);function _templateObject(){var e=n()(['\n  query GetYourActivityQuery($input: InputVariables!) {\n    GetYourActivityResponse(input: $input)\n      @rest(\n        type: "GetYourActivityResponse"\n        path: "grpc/forum/post/v1beta1/ForumPostSearchAPI/Search"\n        method: "POST"\n      ) {\n      postResults\n      nextPageToken\n      totalHits\n    }\n  }\n']);return _templateObject=function _templateObject(){return e},e}var l=s()(_templateObject()),d=function YourActivityTabDataProvider(e){var t=e.courseId,r=e.userId,n=e.currentPage,o=e.children;return a.a.createElement(c.Query,{query:l,variables:{input:{course_id:t,request:{sort:"SEARCH_SORT_CREATED_AT_DESC",filter:{search_filter_type:"FILTER_TYPE_MY_POSTS_USER_ID",search_filter_value:r}},page_size:15,page_token:(15*(n-1)).toString()}}},function(e){var t=e.loading,r=e.error,n=e.data;if(t||r)return o({loading:t,error:r});var a={postResults:[],nextPageToken:"",totalHits:"0"},i=(null==n?void 0:n.GetYourActivityResponse)||a;return o({loading:!1,error:r,data:i})})};e.a=d},ad2n:function(module,e,t){"use strict";var r=t("VkAN"),n=t.n(r),o=t("VbXa"),a=t.n(o),i=t("AeFk"),s=t("F/us"),c=t.n(s),u=t("17x9"),l=t.n(u),d=t("q1tI"),p=t.n(d),m=t("i1H6"),h=t("xJyF"),f=t("lTCR"),b=t.n(f),g=t("PJ/k"),y=t.n(g),v=t("q5zD"),O=t("bJHw"),j=t("k01U"),S=t("8cuT"),C=t("+LJP"),I=t("oEqI"),x=t("GP6s"),F=t.n(x);function _templateObject2(){var e=n()(["\n      query SessionsV2AuthoringEligibilityCheckQuery($courseId: String!) {\n        SessionsV2AuthoringEligibilityCheckV1Resource {\n          get(id: $courseId) {\n            eligibleForSessionsV2\n          }\n        }\n      }\n    "]);return _templateObject2=function _templateObject2(){return e},e}function _templateObject(){var e=n()(["\n          padding: ",";\n          margin: ",";\n        "]);return _templateObject=function _templateObject(){return e},e}var T=function(e){function SessionFilter(t,r){var n;return(n=e.call(this,t,r)||this).handleDropdownChange=function(e,t){"ondemand"===e?n.context.executeAction(j.d):"all"===e?n.context.executeAction(j.c,{branchId:t}):n.context.executeAction(j.e,{sessionId:e})},!t.loaded&&t.hasModerationRole&&r.executeAction(j.a,{courseId:t.courseId,currentSessionId:t.currentSessionId,isPrivateSession:t.isPrivateSession}),t.loaded||t.hasModerationRole||r.executeAction(j.b,{courseId:t.courseId,currentSessionId:t.currentSessionId,isPrivateSession:t.isPrivateSession}),n}var t;return a()(SessionFilter,e),SessionFilter.prototype.render=function render(){var e=this.props,t=e.discussionsLandingPageActive,r=e.loaded,n=e.hasModerationRole,o=e.isSessionsV2Enabled,a=e.theme;if(!t||!r||!n)return null;var s=F()("Instructors can now change the structure of the discussion forums for each version of the course to better\n        fit the material. It is still possible to view all discussions in a particular version, but no longer\n        possible to view discussions across every session."),c="session-filter-tooltip",u=Object(i.d)(g.Tooltip,{id:c},s);return Object(i.d)("div",{className:"rc-personalization_SessionFilter card-rich-interaction",css:Object(i.c)(_templateObject(),a.spacing(24),a.spacing(0,0,24,0))},Object(i.d)("div",null,Object(i.d)("div",{className:"horizontal-box align-items-spacebetween"},Object(i.d)("div",null,Object(i.d)("h2",{className:"label-text color-secondary-text title"},Object(i.d)(v.a,{name:"lock"})," ",o?F()("Filter by version and cohort"):F()("Filter by session"))),this.props.containsMultipleBranches?Object(i.d)(g.OverlayTrigger,{placement:"bottom",overlay:u,trigger:["hover","focus"]},Object(i.d)("div",{className:"label-text color-secondary-text title",role:"tooltip",tabIndex:0,"aria-label":s},Object(i.d)(v.a,{name:"question-circle-o",className:"cif-lg"}))):null),Object(i.d)("p",{className:"caption-text color-secondary-text align-left"},F()("Visible to staff and mentors")),Object(i.d)(O.a,{isSessionsV2Enabled:o,handleDropdownChange:this.handleDropdownChange})))},SessionFilter}(p.a.Component);T.contextTypes={executeAction:l.a.func.isRequired},T.defaultProps={forceLoad:!1},e.a=Object(s.compose)(Object(S.a)(["SessionFilterStore","SessionStore","CourseStore","CourseMembershipStore","ApplicationStore"],function(e,t){var r=e.SessionFilterStore,n=e.SessionStore,o=e.CourseStore,a=e.CourseMembershipStore,i=e.ApplicationStore;return{hasModerationRole:a.hasModerationRole()||i.isSuperuser(),loaded:r.filtersLoaded,containsMultipleBranches:!!r.containsMultipleBranches,currentSessionId:n.isEnrolled()?n.getSessionId():void 0,courseSlug:o.getCourseSlug(),courseId:o.getCourseId(),isPrivateSession:!!n.isEnrolled()&&n.isSessionPrivate()}}),Object(m.a)(["courseId"]),Object(h.a)(b()(_templateObject2()),{options:function options(e){var t;return{variables:{courseId:e.courseId}}},props:function props(e){var t,r=e.data.SessionsV2AuthoringEligibilityCheckV1Resource;if(r){var n=r.get;return{isSessionsV2Enabled:n&&n.eligibleForSessionsV2}}return{isSessionsV2Enabled:!1}}}),Object(C.a)(function(e,t){return{discussionsLandingPageActive:t.forceLoad||e.isActive({pathname:"/learn/".concat(t.courseSlug,"/discussions"),query:e.location.query},!0)||e.isActive({pathname:"/learn/".concat(t.courseSlug,"/discussions/all"),query:e.location.query},!0)||e.isActive({pathname:"/learn/".concat(t.courseSlug,"/discussions/tab/foryou"),query:e.location.query},!0)||e.isActive({pathname:"/learn/".concat(t.courseSlug,"/discussions/tab/all"),query:e.location.query},!0)||e.isActive({pathname:"/learn/".concat(t.courseSlug,"/discussions/tab/myposts"),query:e.location.query},!0)}}))(Object(I.a)(T))},azVH:function(module,e,t){"use strict";var r=t("lSNA"),n=t.n(r),o=t("VbXa"),a=t.n(o),i=t("AeFk"),s=t("8Hdl"),c=t("oEqI"),u=t("F/us"),l=t.n(u),d=t("17x9"),p=t.n(d),m=t("q1tI"),h=t.n(m),f=t("W8mr"),b=t("Fmrb"),g=t.n(b),y=t("8cuT"),v=t("jJ30"),O=t("qiY+");function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){n()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var j=function(e){function DiscussionsModerators(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).onDisplayMiniProfile=function(e){if(e===t.openMiniProfile)return;void 0!==t.openMiniProfile&&t.openMiniProfile.hide({}),t.openMiniProfile=e},t}a()(DiscussionsModerators,e);var t=DiscussionsModerators.prototype;return t.componentWillMount=function componentWillMount(){var e=this.props.courseId;this.props.staffSocialProfiles.length||this.context.executeAction(v.b,{courseId:e})},t.render=function render(){var e=this,t;if(!this.props.staffSocialProfiles)return null;if(!this.props.staffSocialProfiles.find(function(e){return e.courseRole===O.a.MENTOR||e.courseRole===O.a.TEACHING_STAFF||e.courseRole===O.a.COURSE_ASSISTANT}))return null;var r=this.props.theme,n=Object(i.c)({padding:r.spacing(24),"ul.moderator-list li.staff-profile-container .rc-ProfileImage .c-profile-initials":_objectSpread({},r.typography.body1),".moderator-list":{display:"flex",flexFlow:"row",flexWrap:"wrap",padding:r.spacing(16,0,0,0),".staff-profile-container":{position:"relative",display:"inline-block",margin:r.spacing(0,16,12,0)}}});return Object(i.d)("div",{css:n,className:"rc-DiscussionsModerators card-no-action"},Object(i.d)(s.a,{variant:"h2semibold"},g()("Moderators")),Object(i.d)("ul",{className:"moderator-list"},this.props.staffSocialProfiles.map(function(t){return Object(i.d)("li",{className:"staff-profile-container",key:t.id},Object(i.d)(f.a,{onDisplayMiniProfile:e.onDisplayMiniProfile,externalUserId:t.externalUserId,fullName:t.fullName,profileImageUrl:t.photoUrl,courseRole:t.courseRole,helperStatus:t.helperStatus}))})))},DiscussionsModerators}(h.a.Component);j.contextTypes={executeAction:p.a.func.isRequired},e.a=Object(u.compose)(Object(y.a)(["CourseStore","ClassmatesProfileStore"],function(e){var t=e.CourseStore,r=e.ClassmatesProfileStore;return{courseId:t.getCourseId(),staffSocialProfiles:r.getStaffProfiles()}}))(Object(c.a)(j))},bJHw:function(module,e,t){"use strict";var r=t("RIqP"),n=t.n(r),o=t("lSNA"),a=t.n(o),i=t("VbXa"),s=t.n(i),c=t("AeFk"),u=t("F/us"),l=t.n(u),d=t("q1tI"),p=t.n(d),m=t("wd/R"),h=t.n(m),f=t("w/1P"),b=t.n(f),g=t("PJ/k"),y=t.n(g),v=t("kvW3"),O=t("8cuT"),j=t("EdUP"),S=t("oEqI"),C=t("GP6s"),I=t.n(C),x="MMM DD, YYYY",F=function(e){function SessionFilterDropdown(t,r){var n;if((n=e.call(this,t,r)||this).handleDropdownChange=function(e){var t,r,o;e.startsWith("all~")?(r=(t=n.props.branches.find(function(t){return t.id===e.substring(4,e.length)})).filters.find(function(e){return"all"===e.id}),o="all"):(r=(t=n.props.branches.find(function(t){return!!t.filters.find(function(t){return t.id===e})})).filters.find(function(t){return t.id===e}),o=e),n.setState({selectedFilter:r}),n.props.handleDropdownChange(o,t.id)},n.buildBranchMenuItemDisplay=function(e){return Object(c.d)(g.MenuItem,{key:e.id,eventKey:e.id,disabled:!0,className:"disabled"},Object(c.d)("div",{className:"horizontal-box"},e.label))},n.buildAllBranchFilterMenuItemDisplay=function(e){return e.filters.map(function(e){if(n.props.hideAllSessionsOption&&"all"===e.id)return null;var t="all"!==e.id?e.id:"all~"+e.branchId,r=b()({"body-2-text":e.id===n.state.selectedFilter.id&&e.branchId===n.state.selectedFilter.branchId});return Object(c.d)(g.MenuItem,{key:t,eventKey:t},Object(c.d)("div",{className:r},n.buildFilterMenuItemDisplay(e,!0)))})},n.buildFilterMenuItemDisplay=function(e,t){if("ondemand"===e.id||"all"===e.id)return Object(c.d)("div",{className:"horizontal-box menu-item-box"},t&&Object(c.d)("span",null," - "),n.buildFilterDisplayString(e,t),"ondemand"===e.id&&t&&Object(c.d)("div",{className:"menu-item-label caption-text color-secondary-text"},I()("Active")));var r=n.props.allSessions.find(function(t){return t.id===e.id}),o=l()(null==r?void 0:r.moduleDeadlines).chain().sortBy(function(e){return e.startedAt}).find(function(e){return h()(e.deadline).isAfter(h()())}).value(),a=o&&h()(o).diff(h()(null==r?void 0:r.startedAt),"weeks");return Object(c.d)("div",{className:"horizontal-box menu-item-box"},t&&Object(c.d)("span",null," - "),n.buildFilterDisplayString(e,t),t&&a>0&&h()(null==r?void 0:r.endedAt).isAfter(h()())&&Object(c.d)("div",{className:"menu-item-label caption-text color-secondary-text"},Object(c.d)(v.b,{message:I()("Week {weekNumber} assignment due"),weekNumber:a})))},t.hideAllSessionsOption&&"all"===t.selectedFilter.id){var o=t.branches.find(function(e){return e.id===t.currentBranchId})||t.branches[0];n.state={selectedFilter:o.filters.find(function(e){return"all"!==e.id})},t.handleDropdownChange(n.state.selectedFilter.id)}else n.state={selectedFilter:t.selectedFilter};return n}s()(SessionFilterDropdown,e);var t=SessionFilterDropdown.prototype;return t.buildFilterDisplayString=function buildFilterDisplayString(e,t){var r=this.props,n=r.isSessionsV2Enabled,o,a=r.branches.find(function(t){return t.id===e.branchId}),i=(null==a?void 0:a.label)||"",s;if("ondemand"===e.id)return t?"Self Paced":"Self Paced (".concat(i,")");if("all"===e.id)return"All ".concat(n?"cohorts":"sessions"," for ").concat(i);var c=h()(e.startedAt).format(x),u=h()(e.endedAt).format(x),l="".concat(c," - ").concat(u);return t?l:l+" (".concat(i,")")},t.render=function render(){var e=this,t;if(!this.props.branches||0===this.props.branches.length)return null;var r=this.props.limitSwitchingToCurrentBranch?this.props.branches.filter(function(t){return t.id===e.props.currentBranchId}):this.props.branches,o=Object(c.c)((t={},a()(t,".bt3-btn-group",{width:"100%"}),a()(t,"button.bt3-dropdown-toggle",a()({borderRadius:"0px",width:"100%",textAlign:"left",display:"flex",justifyContent:"space-between",alignItems:"center"},"span",{display:"flex"})),a()(t,"ul > li.disabled > a:hover",{cursor:"default",backgroundColor:this.props.theme.palette.white}),a()(t,"ul > li.disabled > a:focus",{outline:"none",backgroundColor:this.props.theme.palette.white}),a()(t,"ul.bt3-dropdown-menu",{zIndex:1e4}),a()(t,".menu-item-box",{overflow:"hidden"}),a()(t,".menu-item-label",{backgroundColor:this.props.theme.palette.blue[50],borderRadius:"2px",padding:this.props.theme.spacing(4,12),border:"1px solid ".concat(this.props.theme.palette.gray[300]),marginLeft:this.props.theme.spacing(12)}),t));return Object(c.d)("div",{className:"rc-personalization_SessionFilterDropdown body-1-text",css:o},Object(c.d)("div",{className:"dropdown-section"},Object(c.d)(g.DropdownButton,{id:this.props.id,title:this.buildFilterMenuItemDisplay(this.state.selectedFilter,!1),onSelect:this.handleDropdownChange},r.map(function(t,o){return[r.length>1?e.buildBranchMenuItemDisplay(t):null].concat(n()(e.buildAllBranchFilterMenuItemDisplay(t)),[o===r.length-1?null:Object(c.d)(g.MenuItem,{className:"disabled",disabled:!0,key:t.id+"spacer"})])}))))},SessionFilterDropdown}(p.a.Component);e.a=l.a.compose(Object(O.a)(["SessionFilterStore"],function(e,t){var r=e.SessionFilterStore;return{branches:r.branches,sessionsLoaded:r.filtersLoaded,selectedFilter:r.activeFilter,allSessions:r.allSessions,currentBranchId:r.currentBranchId}}),Object(j.a)(function(e){return e.sessionsLoaded},function(){return Object(c.d)("div",{className:"padded-label"},I()("Loading..."))}))(Object(S.a)(F))},bypZ:function(module,exports,e){},"cu2+":function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),o=t("oYk5"),a=t.n(o),i=t("17x9"),s=t.n(i),c=t("q1tI"),u=t.n(c),l=t("sRrU"),d=function(e){function MiniProfileRenderer(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state={showMiniProfile:!1},t.displayTimeout=null,t.isDisplayMethodLocked=!1,t.display=function(e){if(t.isDisplayMethodLocked)return;var r=a()(window).height()-(e.pageY-a()(window).scrollTop())>MiniProfileRenderer.MAX_HEIGHT;t.isDisplayMethodLocked=!0,t.displayTimeout=setTimeout(function(){var e=t.props.source+(r?"South":"North");t.setState({showMiniProfile:!0,className:e})},MiniProfileRenderer.MIN_HOVER_TIME)},t.hide=function(e){t.displayTimeout&&clearTimeout(t.displayTimeout),t.isDisplayMethodLocked=!1,t.setState({showMiniProfile:!1})},t}n()(MiniProfileRenderer,e);var t=MiniProfileRenderer.prototype;return t.componentWillUnmount=function componentWillUnmount(){this.displayTimeout&&clearTimeout(this.displayTimeout)},t.render=function render(){return this.state.showMiniProfile&&u.a.createElement(l.a,{externalId:this.props.externalId,courseRole:this.props.courseRole,orientationClass:this.state.className,toolTipId:this.props.toolTipId})},MiniProfileRenderer}(u.a.Component);d.propTypes={externalId:s.a.string.isRequired,courseRole:s.a.string,source:s.a.string.isRequired,toolTipId:s.a.string},d.MAX_HEIGHT=200,d.MIN_HOVER_TIME=500,e.a=d},d2tF:function(module,e,t){"use strict";var r=t("k8aN");t.d(e,"b",function(){return r.a});var n=t("Iqdo");t.d(e,"a",function(){return n.a});var o=t("yMcb")},dwck:function(module,e,t){"use strict";var r=t("lSNA"),n=t.n(r),o=t("QILm"),a=t.n(o),i=t("AeFk"),s=t("q1tI"),c=t.n(s),u=t("w/1P"),l=t.n(u),d=t("6R2g"),p=t("Iqea"),m=t.n(p),h=t("763+");function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){n()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function getCourseRoleIconInfo(e){var t=e.theme,r;switch(e.courseRole){case"INSTRUCTOR":return{letter:m()("I"),css:{backgroundColor:t.palette.blue[600],color:t.palette.white}};case"COURSE_ASSISTANT":case"MENTOR":return{letter:m()("M"),css:{backgroundColor:t.palette.purple[800],color:t.palette.white}};case"UNIVERSITY_ADMIN":case"DATA_COORDINATOR":return{letter:m()("S"),css:{backgroundColor:t.palette.purple[800],color:t.palette.white}};case"TOP_CONTRIBUTOR":return{letter:m()("C"),css:{backgroundColor:t.palette.purple[800],color:t.palette.white}};default:return{}}}function ProfileImageWithRole(e){var t=e.ariaHidden,r=void 0!==t&&t,n=e.courseRole,o=a()(e,["ariaHidden","courseRole"]),s=Object(h.a)(),c=getCourseRoleIconInfo({courseRole:n,theme:s}),u=l()("course-role-icon","caption-text","horizontal-box","align-items-absolute-center");return Object(i.d)("span",{css:{".rc-ProfileImage div.c-profile-image.c-profile-initials":{backgroundColor:"".concat(s.palette.blue[100]),"& p":_objectSpread({color:"".concat(s.palette.black[500])},s.typography.body1)},".course-role-icon":{borderRadius:"100%",width:"18px",height:"18px",position:"absolute","margin-left":"".concat(s.spacing(24),"px"),"margin-top":"-14px"}},className:"rc-ProfileImageWithRole"},Object(i.d)(d.a,{fullName:e.fullName,profileImageUrl:e.profileImageUrl,alt:e.alt,ariaHidden:e.ariaHidden,width:36,height:36}),c.letter&&Object(i.d)("span",{className:u,css:c.css},c.letter))}e.a=ProfileImageWithRole},eE4N:function(module,e,t){"use strict";var r=t("lSNA"),n=t.n(r),o=t("VbXa"),a=t.n(o),i=t("q1tI"),s=t.n(i),c=t("8gSW"),u=t("hN99"),l=t("GP6s"),d=t.n(l),p=t("9A5E");function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){n()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var m=function(e){function SearchResultEntry(){return e.apply(this,arguments)||this}var t;return a()(SearchResultEntry,e),SearchResultEntry.prototype.render=function render(){var e=this.props.entry,t=s.a.createElement(c.a,{key:e.id+u.k(this.props.forumLink,this.props.entry),threadUrl:(null==e?void 0:e.title)&&u.k(this.props.forumLink,this.props.entry),profile:e.creator,timestamp:e.createdAt,threadName:e.threadName,questionUserId:e.creator.id,entry:_objectSpread(_objectSpread({},e),{},{content:{question:e.title,details:e.content},question:e.content,questionId:e.courseForumQuestionId}),questionId:e.courseForumQuestionId,metadataLabel:d()("posted")}),r;return!(null==e?void 0:e.title)&&s.a.createElement(p.c,{to:u.k(this.props.forumLink,e),trackingName:"thread_list_entry","aria-label":e.title,data:{question_id:e.courseForumQuestionId,question_user_id:e.creator.id},className:"nostyle"},t)||t},SearchResultEntry}(s.a.Component);e.a=m},fR6B:function(module,exports,e){},fbaF:function(module,exports,e){},g12y:function(module,e,t){"use strict";var r=t("VkAN"),n=t.n(r),o=t("AeFk"),a=t("763+"),i=t("fAYU"),s=t("zXDh"),c=t("9A5E"),u=t("Fmrb"),l=t.n(u),d=t("KXbA");function _templateObject(){var e=n()(["\n        margin: ",";\n      "]);return _templateObject=function _templateObject(){return e},e}function DiscussionsGuidelines(){var e=Object(s.isRightToLeft)(l.a.getLocale())?"".concat(s.supportPageLocale.ar,"/"):"",t="https://learner.coursera.help/hc/".concat(e,"articles/208280036"),r=Object(a.a)();return Object(o.d)("div",{className:"rc-DiscussionsGuidelines",css:Object(o.c)(_templateObject(),r.spacing(16,0,0,0))},Object(o.d)(i.a,{variant:"quiet",typographyVariant:"body1",icon:Object(o.d)(d.a,{size:"small"}),iconPosition:"after",component:c.a,trackingName:"DiscussionsGuidelines",href:t,target:"_blank"},l()("Forum guidelines")))}e.a=DiscussionsGuidelines},gYV5:function(module,exports,e){},"i58+":function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),o=t("wd/R"),a=t.n(o),i=t("17x9"),s=t.n(i),c=t("q1tI"),u=t.n(c),l=t("kvW3"),d=t("GP6s"),p=t.n(d),m=function(e){function WeekStats(){return e.apply(this,arguments)||this}var t;return n()(WeekStats,e),WeekStats.prototype.render=function render(){var e=this.props,t=e.lastAnsweredAt,r=e.forumQuestionCount;return u.a.createElement("div",{className:"rc-WeekStats caption-text color-secondary-text"},"number"==typeof r&&u.a.createElement(l.b,{message:p()("{forumQuestionCount} threads"),forumQuestionCount:r}),!!t&&u.a.createElement("span",null,"number"==typeof r&&u.a.createElement("span",null," · "),u.a.createElement(l.b,{message:p()("Last post {timeSinceLastPost}"),timeSinceLastPost:a()(t).fromNow()})))},WeekStats}(u.a.Component);m.propTypes={lastAnsweredAt:s.a.number,forumQuestionCount:s.a.number},e.a=m},iljS:function(module,exports,e){var t=e("fR6B"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},o=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},"j/jw":function(module,exports,e){},jr6M:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),o=t("AeFk"),a=t("w/1P"),i=t.n(a),s=t("q1tI"),c=t.n(s),u=t("Vp23"),l=t("Z3FU"),d=t("azVH"),p=t("ad2n"),m=t("2sch"),h=function(e){function DiscussionsSideColumn(){return e.apply(this,arguments)||this}var t;return n()(DiscussionsSideColumn,e),DiscussionsSideColumn.prototype.render=function render(){var e=this.props.className;return Object(o.d)("div",{className:i()("rc-DiscussionsSideColumn",e)},Object(o.d)(p.a,null),Object(o.d)(m.a,{smDown:!0},Object(o.d)(u.a,null)),Object(o.d)(l.a,null),Object(o.d)(d.a,null))},DiscussionsSideColumn}(c.a.Component);e.a=h},ju0T:function(module,e,t){"use strict";var r=t("lSNA"),n=t.n(r),o=t("VbXa"),a=t.n(o),i=t("q1tI"),s=t.n(i),c=t("45ES"),u=t("hN99"),l=t("GP6s"),d=t.n(l),p=t("9A5E");function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){n()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var m=function(e){function SearchResultEntry(){return e.apply(this,arguments)||this}var t;return a()(SearchResultEntry,e),SearchResultEntry.prototype.render=function render(){var e=this.props.entry,t=s.a.createElement(c.a,{key:e.id+u.k(this.props.forumLink,this.props.entry),threadUrl:(null==e?void 0:e.title)&&u.k(this.props.forumLink,this.props.entry),profile:e.creator,timestamp:e.createdAt,threadName:e.threadName,questionUserId:e.creator.id,entry:_objectSpread(_objectSpread({},e),{},{content:{question:e.title,details:e.content},question:e.content,questionId:e.courseForumQuestionId}),questionId:e.courseForumQuestionId,metadataLabel:d()("posted")}),r;return!(null==e?void 0:e.title)&&s.a.createElement(p.c,{to:u.k(this.props.forumLink,e),trackingName:"thread_list_entry","aria-label":e.title,data:{question_id:e.courseForumQuestionId,question_user_id:e.creator.id},className:"nostyle"},t)||t},SearchResultEntry}(s.a.Component);e.a=m},k8aN:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),o=t("VkAN"),a=t.n(o),i=t("q1tI"),s=t.n(i),c=t("17x9"),u=t.n(c),l=t("d2tF"),d=t("hN99"),p=t("AeFk"),m=t("oEqI");function _templateObject(){var e=a()(["\n  position: relative;\n  .search-box {\n    width: 100%;\n    &:hover {\n      outline: none;\n    }\n  }\n  .search-bar {\n    border: 1px solid ",";\n  }\n"]);return _templateObject=function _templateObject(){return e},e}var h=function styles(e){return Object(p.c)(_templateObject(),e.palette.gray[500])},f=function(e){function SearchBox(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state={query:""},t.handleQueryChange=function(e){t.setState({query:e})},t.handleFocus=function(){var e;(0,t.props.animateToSearch)()},t.handleBlur=function(){var e;(0,t.props.animateFromSearch)()},t.handleClear=function(){t.setState({query:""})},t.handleTab=function(e){var r=t.props.nextElementId,n=r&&document&&document.getElementById(r);n&&(e.preventDefault(),n.focus())},t.handleShiftTab=function(e){var r=t.props.previousElementId,n=r&&document&&document.getElementById(r);n&&(e.preventDefault(),n.focus())},t.submitSearch=function(){var e=t.state.query,r=t.context.router,n=t.props.onSubmit,o,a=/discussions\/(forums|weeks|groups)\//i.test(r.location.pathname);if(e){var i=r.location.pathname,s=e.replace("*",""),c=function routerFunc(e){return r.push({pathname:e,params:{},query:{q:s}})};a?(c(i),n(s)):c(Object(d.f)())}},t}var t;return n()(SearchBox,e),SearchBox.prototype.render=function render(){var e=this.state.query,t=this.props.placeholder;return Object(p.d)(l.a,{query:e,handleSubmit:this.submitSearch,handleChange:this.handleQueryChange,handleBlur:this.handleBlur,handleShiftTab:this.handleShiftTab,handleTab:this.handleTab,handleClear:this.handleClear,focus:!0,css:h(this.props.theme),placeholder:t})},SearchBox}(s.a.Component);f.contextTypes={router:u.a.object.isRequired},e.a=Object(m.a)(f)},lj0O:function(module,e,t){"use strict";var r=t("VkAN"),n=t.n(r),o=t("q1tI"),a=t.n(o),i=t("763+"),s=t("6/Gu"),c=t("8Hdl"),u=t("AeFk"),l=t("uJiD");function _templateObject(){var e=n()(["\n          padding: ",";\n          border-bottom: 0px;\n        "]);return _templateObject=function _templateObject(){return e},e}function ForumsList(e){var t=Object(i.a)(),r={"h2.category-title":{margin:0}};return Object(u.d)(s.a,{css:r,container:!0,item:!0,xs:12,className:"rc-ForumsList","data-e2e":e.className},Object(u.d)(s.a,{item:!0,xs:12,component:l.a,css:Object(u.c)(_templateObject(),t.spacing(16,0,16,24))},e.title&&Object(u.d)(c.a,{variant:"h4bold",className:"category-title",component:"h2"},e.title)),Object(u.d)(s.a,{item:!0,xs:12,component:l.a},Object(u.d)("div",null,e.children)))}e.a=ForumsList},mpHW:function(module,e,t){"use strict";t.d(e,"a",function(){return P});var r=t("VbXa"),n=t.n(r),o=t("q1tI"),a=t.n(o),i=t("17x9"),s=t.n(i),c=t("2iyS"),u=t("wd/R"),l=t.n(u),d=t("w/1P"),p=t.n(d),m=t("tag9"),h=t("5gsr"),f=t("ULqJ"),b=t("qFaW"),g=t("AeFk"),y=t("763+"),v=t("6/Gu"),O=t("8Hdl"),j=t("oEqI"),S=t("GP6s"),C=t.n(S),I=t("0lLQ"),x=t("eJMc"),F=t.n(x),T=t("NQhL"),w=t("WBtN");function PostAge(e){var t=e.createdAt,r=e.answerCount,n=r&&r>0?"replied":"posted";return Object(g.d)("span",null,n+" "+l()(new Date(t)).fromNow())}function ContributorNameWithIcon(e){var t=e.fullName,r=e.photoUrl,n=e.className,o=t&&Object(m.a)(t)||"--",a=Object(y.a)();return Object(g.d)("div",{className:n},Object(g.d)(T.a,{color:a.palette.blue[100],initials:o,photoUrl:r}),Object(g.d)("span",{css:{height:"36px",display:"inline-block",paddingLeft:"7px"}},t))}var N=function(e){function _ForumThreadCard(){return e.apply(this,arguments)||this}var t;return n()(_ForumThreadCard,e),_ForumThreadCard.prototype.render=function render(){var e=this.props,t=e.title,r=e.titleLink,n=e.description,o=e.creator,a=e.badge,i=e.lastReplyDate,s=e.lastContributor,u=e.forumName,l=e.myPostOrReplyBadgeText,d=e.forumQuestionId,p=(null==d?void 0:d.includes("~"))?d:"".concat(this.context.userId,"~").concat(this.context.courseId,"~").concat(d);return Object(g.d)(v.a,{container:!0,className:"rc-personalization_ForumThreadCard"},u&&Object(g.d)(v.a,null,Object(g.d)(v.a,{item:!0},Object(g.d)(O.a,{variant:"body2",color:"supportText",css:{margin:this.props.theme.spacing(0,0,8,0)}},u))),Object(g.d)(v.a,{container:!0,item:!0,css:{justifyContent:"flex-start",flexFlow:"initial"}},this.props.pinned&&Object(g.d)(v.a,{item:!0},Object(g.d)(I.a,{"aria-label":C()("pinned forum post"),size:"medium",css:{margin:this.props.theme.spacing(0,8,0,0),background:this.props.theme.palette.yellow[500],padding:"3px",height:"24px",width:"24px",borderRadius:"100%"}})),Object(g.d)(v.a,{item:!0},!r&&t&&Object(g.d)(O.a,{variant:"h2semibold",className:"rc-personalization_ForumThreadCard__title"},t),r)),Object(g.d)(v.a,{item:!0,xs:12,css:{padding:this.props.theme.spacing(12,0,16,0)}},n),(a||l)&&Object(g.d)(v.a,{item:!0,xs:12,className:"rc-personalization_ForumThreadCard__content__tags",css:{padding:this.props.theme.spacing(0,0,24,0)}},a&&Object(g.d)(b.a,{badge:a}),l&&Object(g.d)(b.a,{badge:l})),Object(g.d)(v.a,{container:!0,item:!0,css:{justifyContent:"space-between"}},Object(g.d)(v.a,{item:!0,className:"rc-personalization_ForumThreadCard__content__responseControls"},void 0!==this.props.replyCount&&o&&Object(g.d)("span",{className:"rc-personalization_ForumThreadCard__content__responseControls__controlContainer"},Object(c.a)(o)&&Object(g.d)("span",{className:"rc-personalization_ForumThreadCard__content__responseControls__controlContainer__button"},Object(g.d)(h.a,{creator:o,forumPostId:p,upvotes:this.props.upvoteCount,isUpvoted:this.props.isUpvoted})),this.props.threadUrl&&Object(g.d)("span",{className:"rc-personalization_ForumThreadCard__content__responseControls__controlContainer__button"},Object(g.d)(F.a,{to:this.props.threadUrl,tabIndex:-1},Object(g.d)(f.a,{forumQuestionId:d,replies:this.props.replyCount,creator:o}))))),Object(g.d)(v.a,{item:!0},Object(g.d)(O.a,{variant:"body2",component:"span",css:{display:"flex",flexFlow:"row",alignItems:"center",lineHeight:"36px"}},s&&Object(g.d)(ContributorNameWithIcon,{css:{display:"flex",alignItems:"center"},fullName:s.fullName,photoUrl:s.photoUrl}),Object(g.d)("span",{css:{padding:this.props.theme.spacing(0,4)}},"·"),this.props.tags&&Object(g.d)("span",{css:{lineHeight:"36px"}},this.props.tags),Object(g.d)("span",{css:{lineHeight:"36px"}},Object(g.d)(PostAge,{createdAt:i||this.props.createdAt||0,answerCount:this.props.answerCount||0}))))),this.props.children&&Object(g.d)(v.a,{item:!0},this.props.children))},_ForumThreadCard}(a.a.Component);function CardShimmer(){return Object(g.d)("div",{className:"rc-personalization_ForumThreadCard"},Object(g.d)("div",{className:"rc-personalization_ForumThreadCard__content"},Object(g.d)(w.b,{width:"100px"}),Object(g.d)("span",{className:p()("comment","br","animated","rc-personalization_ForumThreadCard__content__PostAge"),style:{backgroundColor:w.c,display:"block",height:"10px",width:"40px"}},"        ")),Object(g.d)(w.a,null))}N.contextTypes={courseId:i.string,userId:i.string};var P=Object(j.a)(N)},nFDk:function(module,exports,e){var t=e("+Obm"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},o=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},nUZb:function(module,exports,e){},oRIA:function(module,exports,e){var t=e("HgcT"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},o=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},olxp:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),o=t("17x9"),a=t.n(o),i=t("q1tI"),s=t.n(i),c=t("F/us"),u=t.n(c),l=t("E4Nz"),d=t("1AMt"),p=t("da3Y"),m=t("yb7V"),h=t("8gSW"),f=t("hN99"),b=t("CDw/"),g=t("JVW9"),y=t("+LJP"),v=t("pqXt"),O=t("oQ9N"),j=t("EdUP"),S=t("8cuT"),C=t("GP6s"),I=t.n(C),x=t("JTnn"),F=t.n(x),T=t("6/Gu"),w=function(e){function ThreadsList(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state={inSearch:!1},t.entriesChanged=function(e,t){var r,n,o=!1;return e.length!==t.length&&(o=!0),(null===(r=e[0])||void 0===r?void 0:r.id)!==(null===(n=t[0])||void 0===n?void 0:n.id)&&(o=!0),o},t.onPageChange=function(e){var r;t.context.router.push({pathname:t.context.router.location.pathname,params:{},query:Object.assign(t.context.router.location.query,{page:e})})},t.toggleSearch=function(e){t.setState({inSearch:!e})},t.renderEntry=function(e){var r=t.props,n=r.activeFilterQueryString,o=r.courseForums,a=r.mentorForums,i=r.groupForums,c=r.currentForum,u=r.currentForumUrl,l=e.lastAnsweredAt&&e.lastAnsweredBy,d=!b.a.hasUnread(e),p=l?e.lastAnsweredBy:e.creator,m=I()("posted"),g,y=o.concat(a).concat(i).find(function(t){return t.forumId===e.forumId}),v=y&&c.id!==y.id&&y.title||void 0,O=f.k(u,e),j,S=void 0!==e.answerCount&&!isNaN(e.answerCount)?e.answerCount:e.topLevelAnswerCount;return s.a.createElement(h.a,{key:e.id+n,threadUrl:O,profile:p,timestamp:e.lastAnsweredAt||e.createdAt,threadName:e.content.question,questionId:e.id,questionUserId:e.creatorId,entry:e,isPinned:!(!e.state||!e.state.pinned),isDeleted:!(!e.state||!e.state.deleted),isRead:d,forumName:v,metadataLabel:m,viewCount:Math.max(S,e.viewCount),answerCount:S,badge:e.answerBadge.answerBadge})},t}n()(ThreadsList,e);var t=ThreadsList.prototype;return t.componentWillMount=function componentWillMount(){var e=this.props,t=e.sort,r=e.answered,n=e.page,o=e.currentForum,a=e.subForum,i=e.activeFilterQueryString,s=a||o;this.context.executeAction(l.c,{filterQueryString:i,sort:t,answered:r,pageNum:n,forumType:s&&s.forumType.typeName,forumId:s&&s.id,userId:this.props.userId,includeDeleted:this.props.hasModerationRole})},t.componentWillUpdate=function componentWillUpdate(e,t,r){var n,o,a=this.props,i=a.currentForum,s=a.subForum,c=i;s&&(c=s),(this.props.sort!==e.sort||this.props.answered!==e.answered||this.props.page!==e.page||this.props.currentForumId!==e.currentForumId||this.props.subForumId!==e.subForumId||(null===(n=this.props.subForum)||void 0===n?void 0:n.id)!==(null===(o=e.subForum)||void 0===o?void 0:o.id)||this.props.activeFilterQueryString!==e.activeFilterQueryString||this.entriesChanged(this.props.entries,e.entries))&&this.context.executeAction(l.c,{filterQueryString:e.activeFilterQueryString,sort:e.sort,answered:e.answered,pageNum:e.page,forumType:c&&c.forumType.typeName,forumId:c&&c.id,userId:this.props.userId,includeDeleted:this.props.hasModerationRole})},t.render=function render(){var e=this.context.router.isActive({pathname:f.c()}),t=!(void 0!==this.props.pageCount&&this.props.pageCount<=1);return s.a.createElement(T.a,{container:!0,className:"rc-ThreadsList",css:{maxWidth:"650px"}},s.a.createElement(T.a,{item:!0,xs:12},s.a.createElement(d.a,{currentForum:this.props.currentForum,inSearch:this.state.inSearch}),s.a.createElement(p.a,{emptyStatePlaceholderText:I()("No Posts Yet"),fossilized:this.state.inSearch,loadingState:this.props.loadingState},this.props.entries&&this.props.entries.map(this.renderEntry))),t&&s.a.createElement(T.a,{item:!0,xs:12,css:{justifyContent:"center"}},s.a.createElement(g.a,{style:{textAlign:"center",marginTop:"32px"},onClickHandler:this.onPageChange,pageCount:this.props.pageCount,currentPage:this.props.page,maxPages:5})))},ThreadsList}(s.a.Component);w.contextTypes={executeAction:a.a.func.isRequired,router:a.a.object.isRequired},e.a=Object(c.compose)(Object(S.a)(["SessionFilterStore","ThreadsStore","ApplicationStore"],function(e){var t=e.SessionFilterStore,r=e.ThreadsStore,n=e.ApplicationStore;return{activeFilterQueryString:t.activeFilterQueryString,entries:r.getThreadsPage(),loadingState:r.getLoadingState(),pageCount:r.getPageCount(),userId:n.getUserData().id}}),Object(O.a)({fields:["title","link","forumType"],subcomponents:[m.a]}),Object(y.a)(v.a),Object(j.a)(function(e){return!!(void 0!==e.activeFilterQueryString&&e.sort&&e.page&&e.currentForum)}))(w)},pkY2:function(module,e,t){"use strict";t.d(e,"a",function(){return q});var r=t("pVnL"),n=t.n(r),o=t("VkAN"),a=t.n(o),i=t("VbXa"),s=t.n(i),c=t("AeFk"),u=t("17x9"),l=t.n(u),d=t("q1tI"),p=t.n(d),m=t("F/us"),h=t.n(m),f=t("w/1P"),b=t.n(f),g=t("L1vm"),y=t("Pzz+"),v=t("olxp"),O=t("9UIe"),j=t("k01U"),S=t("8cuT"),C=t("+LJP"),I=t("ngyh"),x=t("UU2Q"),F=t("GP6s"),T=t.n(F),w=t("NoGk"),N=t("NcZ8"),P=t("yb7V");function _templateObject(){var e=a()(["\n          width: 100%;\n        "]);return _templateObject=function _templateObject(){return e},e}var E=function(e){function SearchBarCoreLayout(){return e.apply(this,arguments)||this}var t;return s()(SearchBarCoreLayout,e),SearchBarCoreLayout.prototype.render=function render(){return Object(c.d)("div",null,Object(c.d)("div",{style:{display:"flex"}},Object(c.d)("span",{style:{display:"inline-block",width:"100%",maxWidth:"650px",marginBottom:"40px"}},Object(c.d)(N.b,{previousElementId:"sortOrder",nextElementId:"new-thread-btn",animateFromSearch:function animateFromSearch(){return null},animateToSearch:function animateToSearch(){return null}})),Object(c.d)("span",{style:{display:"inline-block",marginLeft:"40px"}},Object(c.d)(P.b,null))),Object(c.d)("div",{style:{maxWidth:"650px"}},this.props.children))},SearchBarCoreLayout}(p.a.Component),A=function(e){s()(DiscussionsBody,e);var t=DiscussionsBody.prototype;function DiscussionsBody(t,r){var n;return n=e.call(this,t,r)||this,!t.isSessionsFilterStoreSetup&&t.hasModerationRole&&r.executeAction(j.a,{courseId:t.courseId,currentSessionId:t.currentSessionId,isPrivateSession:t.isPrivateSession}),t.isSessionsFilterStoreSetup||t.hasModerationRole||r.executeAction(j.b,{courseId:t.courseId,currentSessionId:t.currentSessionId,isPrivateSession:t.isPrivateSession}),n}return t.getChildContext=function getChildContext(){return{fluxibleContext:this.context.fluxibleContext||this.props.fluxibleContext}},t.renderSearchResults=function renderSearchResults(){var e=this.props,t=e.searchPage,r=e.q;return Object(c.d)(O.a,{query:r,page:t,currentForumUrl:this.context.currentForumUrl,currentForum:this.context.currentForum,pathname:this.context.pathName})},t.renderThreadsList=function renderThreadsList(){var e=this,t=this.props,r=t.hasModerationRole,n=t.listPage,o=t.listSort,a=t.listAnswered;return Object(c.d)(v.a,{ref:function ref(t){e.threadsList=t},hasModerationRole:r,sort:o,answered:a,page:n})},t.renderThreadDetail=function renderThreadDetail(){var e=this.props.courseId,t=this.props,r=t.questionId,n=t.answerId,o=t.commentId,a=t.detailPage,i=t.detailSort;return Object(c.d)(w.a,{answerId:n,commentId:o,questionId:r,courseId:e,forumQuestionId:r,sort:i,page:a})},t.render=function render(){var e=this.props.q,t=this.props,r=t.role,o=t.questionId;return Object(c.d)("div",n()({className:b()("rc-ForumsV2DiscussionsBody","styleguide",this.props.className),css:Object(c.c)(_templateObject()),id:"discussions-tabpanel","aria-label":T()("Discussions")},r?{role:r}:{}),o&&this.renderThreadDetail(),!o&&(e?this.renderSearchResults():this.renderThreadsList()))},DiscussionsBody}(p.a.Component);function booleanOrUndefinedFromString(e){if(/true/i.test(e))return!0;if(/false/i.test(e))return!1;return}A.contextTypes={router:l.a.object.isRequired,fluxibleContext:l.a.object,executeAction:l.a.func.isRequired},A.childContextTypes={fluxibleContext:l.a.object},A.defaultProps={detailSort:y.f.detailSort,detailPage:y.f.detailPage,listSort:y.f.listSort,listAnswered:y.f.listAnswered,listPage:y.f.listPage};var R=function getPropsFromRouter(e,t){var r=e.params,n=e.location.query,o=r.question_id||t.questionId,a=n.page?parseInt(n.page,10):1,i={answerId:r.answer_id||t.answerId,questionId:o,commentId:r.comment_id||t.commentId,sort:n.sort,answered:booleanOrUndefinedFromString(n.answered),page:a};return o?Object.assign(i,{detailSort:n.sort,detailAnswered:n.answered,detailPage:a}):n.q?Object.assign(i,{q:n.q,searchPage:a}):Object.assign(i,{listSort:n.sort,listAnswered:n.answered,listPage:a}),i},k=Object(m.compose)(Object(S.a)(["SessionFilterStore","SessionStore","CourseStore","CourseMembershipStore","ApplicationStore"],function(e){var t=e.SessionFilterStore,r=e.SessionStore,n=e.CourseStore,o=e.CourseMembershipStore,a=e.ApplicationStore;return{hasModerationRole:o.hasModerationRole()||a.isSuperuser(),isSessionsFilterStoreSetup:t.filtersLoaded,currentSessionId:r.isEnrolled()?r.getSessionId():void 0,courseId:n.getCourseId(),isPrivateSession:!!r.isEnrolled()&&r.isSessionPrivate()}}),Object(C.a)(R),g.a.createTrackedContainer(function(e){return{sort:e.sort,answered:e.answered,page:e.page}}))(A),q=function(e){function FluxibleConnectedDiscussionsBody(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).fluxibleContext=void 0,t}s()(FluxibleConnectedDiscussionsBody,e);var t=FluxibleConnectedDiscussionsBody.prototype;return t.componentWillMount=function componentWillMount(){var e=this.context.fluxibleContext;this.fluxibleContext=Object(x.a)(e)},t.render=function render(){var e;return Object(c.d)(I.a,{context:null===(e=this.fluxibleContext)||void 0===e?void 0:e.getComponentContext()},Object(c.d)(k,this.props))},FluxibleConnectedDiscussionsBody}(p.a.Component);q.contextTypes={fluxibleContext:l.a.object}},qFaW:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),o=t("q1tI"),a=t.n(o),i=t("+7k1"),s=t("8cuT"),c=t("d82X"),u=t("GP6s"),l=t.n(u);function getTranslations(){return{INSTRUCTOR_CREATED:l()("Staff post"),STAFF_CREATED:l()("Staff post"),INSTRUCTOR_RESPONDED:l()("Staff reply"),MENTOR_CREATED:l()("Mentor post"),STAFF_RESPONDED:l()("Staff reply"),MENTOR_RESPONDED:l()("Mentor reply"),HIGHLIGHTED:l()("Highlighted"),FORUM_POST_BADGE_MENTOR_RESPONDED:l()("Mentor reply"),FORUM_POST_BADGE_STAFF_RESPONDED:l()("Staff reply"),FORUM_POST_BADGE_INSTRUCTOR_RESPONDED:l()("Staff reply"),FORUM_POST_BADGE_MENTOR_CREATED:l()("Mentor post"),FORUM_POST_BADGE_STAFF_CREATED:l()("Staff post"),FORUM_POST_BADGE_INSTRUCTOR_CREATED:l()("Staff post"),FORUM_POST_BADGE_HIGHLIGHTED:l()("Highlighted"),MY_POST:l()("My post"),REPLIED:l()("Replied")}}var d=function(e){function ThreadBadge(){return e.apply(this,arguments)||this}var t;return n()(ThreadBadge,e),ThreadBadge.prototype.render=function render(){var e=this.props,t=e.badge,r=e.courseId,n=getTranslations(),o="";if(!(o=Object(i.a)(r)&&"HIGHLIGHTED"===t?n.HIGHLIGHTED:n[t]))return null;return a.a.createElement(c.a,{label:o})},ThreadBadge}(a.a.Component);e.a=Object(s.a)(d,["CourseStore"],function(e){var t;return{courseId:e.CourseStore.getCourseId()}})},rfaR:function(module,exports,e){var t=e("fbaF"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},o=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},sRrU:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),o=t("AeFk"),a=t("F/us"),i=t.n(a),s=t("17x9"),c=t.n(s),u=t("q1tI"),l=t.n(u),d=t("w/1P"),p=t.n(d),m=t("jJ30"),h=t("dwck"),f=t("IaEU"),b=t("UPAY"),g=t("q5zD"),y=t("3JZf"),v=t("7dcC"),O=t("kvW3"),j=t("8cuT"),S=t("Iqea"),C=t.n(S),I=t("8Hdl"),x=function(e){function MiniProfile(t){var r;return(r=e.call(this,t)||this).state={transitionContainer:!1},r.style={".rc-MiniProfile":{position:"absolute","z-index":"9999",opacity:"0","&.transition-in":{opacity:"1",transition:"opacity 0.3s ease- in"},".profile-header":{margin:"16px 12px 12px"},".profile-photo":{"margin-bottom":"12px"},".profile-footer":{padding:"12px 16px 16px"},".unavailable-state":{"text-align":"center",margin:"48px 16px"},".loading-state":{"text-align":"center",margin:"48px"},".dot-spacing":{margin:"0px 4px"},"&.profileAreaNorth":{"margin-top":"-205px"},"&.profileAreaSouth":{"margin-top":"5px"},"&.profileNameNorth":{"margin-top":"- 185px"},"&.profileNameSouth":{"margin-top":"5px"}}},r}n()(MiniProfile,e);var t=MiniProfile.prototype;return t.componentWillMount=function componentWillMount(){this.props.profile&&!i()(this.props.profile).isEmpty()||this.context.executeAction(m.a,{externalId:this.props.externalId,courseId:this.props.courseId})},t.componentDidMount=function componentDidMount(){var e=this;this.transitionTimeout=setTimeout(function(){e.setState({transitionContainer:!0})},100)},t.componentWillUnmount=function componentWillUnmount(){this.transitionTimeout&&clearTimeout(this.transitionTimeout)},t.hasLoaded=function hasLoaded(){return this.props.profile&&!i()(this.props.profile).isEmpty()},t.getProfileDescription=function getProfileDescription(e,t){if(Object(f.d)(e)||Object(f.e)(e))return Object(f.a)(e);return Object(f.c)(t.courseProgressPercentage,t.isCourseCompleted)},t.renderMiniProfile=function renderMiniProfile(){var e=this.props,t=e.profile,r=e.toolTipId,n=Object(f.b)(t.courseRole||this.props.courseRole,t["forumHelpers.v1"]&&t["forumHelpers.v1"].helperStatus),a=p()("profile-footer","caption-text","color-secondary-text","bgcolor-black-g1","horizontal-box","align-items-absolute-center");return Object(o.d)(I.a,{component:"div",css:this.style,className:"vertical-box",id:r,role:"tooltip"},Object(o.d)(I.a,{className:"vertical-box profile-header align-items-vertical-center"},Object(o.d)("div",{className:"profile-photo"},Object(o.d)(h.a,{courseRole:n,fullName:t.fullName,profileImageUrl:t.photoUrl||""})),Object(o.d)(I.a,{component:"div",className:"pii-hide"},t.fullName),Object(o.d)(I.a,{component:"div",className:"caption-text",variant:"supportText"},this.getProfileDescription(n,t))),Object(o.d)(I.a,{component:"div",className:a},Object(o.d)(O.b,{message:C()("{postsCount} {postsCount, plural, =1 { post} other { posts}}"),postsCount:t.postsCount||"0"}),Object(o.d)("span",{className:"dot-spacing"}," · "),Object(o.d)(O.b,{message:C()("{upvotes} {upvotes, plural, =1 { upvote} other { upvotes}}"),upvotes:t.votesReceivedCount||"0"})))},t.renderProfileUnavailable=function renderProfileUnavailable(){if(this.props.profileRequested)return Object(o.d)(I.a,{component:"div",className:"unavailable-state"},Object(o.d)(O.b,{message:C()("Profile not available")}));return Object(o.d)("div",{className:"loading-state"},Object(o.d)(g.a,{name:"spinner",size:"3x",spin:!0}))},t.render=function render(){var e=p()("rc-MiniProfile","card-one-clicker",this.props.orientationClass,{"transition-in":this.state.transitionContainer});return Object(o.d)("div",{className:e},this.hasLoaded()?this.renderMiniProfile():this.renderProfileUnavailable())},MiniProfile}(l.a.Component);x.propTypes={externalId:c.a.string.isRequired,courseId:c.a.string,courseRole:c.a.string,orientationClass:c.a.string.isRequired,profile:c.a.object,profileRequested:c.a.bool,toolTipId:c.a.string},x.contextTypes={executeAction:c.a.func.isRequired},e.a=i.a.compose(Object(y.a)(function(e){return Object(v.a)(e,function(t){return t.registerStore(b.a),e})}),Object(j.a)(["CourseStore","ClassmatesProfileStore"],function(e,t){var r=e.CourseStore,n=e.ClassmatesProfileStore,o=t.externalId;return{courseId:r.getCourseId(),profile:i()(n.profiles).findWhere({externalId:o}),profileRequested:n.profilesRequested.includes(o)}}))(x)},soxB:function(module,e,t){"use strict";var r=t("VkAN"),n=t.n(r),o=t("VbXa"),a=t.n(o),i=t("lSNA"),s=t.n(i),c=t("AeFk"),u=t("q1tI"),l=t.n(u),d=t("17x9"),p=t.n(d),m=t("8Hdl"),h=t("fAYU"),f=t("6/Gu"),b=t("oEqI"),g=t("ZxkJ"),y=t("mpHW"),v=t("hN99"),O=t("9A5E"),j=t("eMx6"),S=t("JVW9"),C=t("GP6s"),I=t.n(C);function _templateObject2(){var e=n()(["\n                      margin-top: ",";\n                    "]);return _templateObject2=function _templateObject2(){return e},e}function _templateObject(){var e=n()(["\n                    margin-top: ",";\n                  "]);return _templateObject=function _templateObject(){return e},e}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){s()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var x=function getThreadUrl(e){var t=e.forumPost,r=e.forumInfo,n=null==r?void 0:r.forumType,o=null==r?void 0:r.forumId,a=t.topLevelPostId;if(!n||!o)return;return"courseBranchWeekForumType"in n?Object(v.a)(Object(v.q)(n.courseBranchWeekForumType.weekNumber),a):"courseGroupRootForumType"in n?Object(v.a)(Object(v.n)(o),a):Object(v.a)(Object(v.m)(o),a)},F=function styles(e){return Object(c.c)({listStyle:"none",padding:"".concat(e.spacing(24,0)),position:"relative",borderBottom:"1px solid ".concat(e.palette.gray[300]),"&:last-child":{borderBottom:"none"},"&.focused, &:hover, &.focused a":{textDecoration:"none"},".forReader":{height:0,width:0}})},T=function renderPost(e,t,r){var n,o=e.forumPost,a=e.creatorProfile,i=e.lastRepliedUserProfile,s=x(e),u=_objectSpread(_objectSpread({},a),{},{userId:Number(null==a?void 0:a.userId),id:null==a?void 0:a.userId,learnerId:Number(null==a?void 0:a.userId)}),l=i?_objectSpread(_objectSpread({},i),{},{userId:Number(i.userId),id:null==i?void 0:i.userId,learnerId:Number(null==i?void 0:i.userId)}):void 0;return Object(c.d)("li",{css:F(t)},Object(c.d)(y.a,{answerCount:parseInt(o.topLevelReplyCount,10),badge:null===(n=o.badges)||void 0===n?void 0:n[0],createdAt:o.createdAtTime,creator:u,description:Object(c.d)(j.a,{cml:{typeName:"cml",definition:o.content.cmlContent},contentLineCountMax:2}),forumName:e.forumInfo.forumTitle,forumQuestionId:o.topLevelPostId,isUpvoted:o.isUpvoted,myPostOrReplyBadgeText:(null==a?void 0:a.userId)===r?"MY_POST":"REPLIED",lastContributor:l||u,lastReplyDate:o.lastRepliedAtTime,pinned:o.isPinned,replyCount:parseInt(o.topLevelReplyCount,10),threadUrl:s,title:o.title,titleLink:s&&Object(c.d)(m.a,{variant:"h2semibold",className:"rc-personalization_ForumThreadCard__title"},Object(c.d)(h.a,{component:O.c,href:s,trackingName:"YourActivityTab_PostLink","aria-label":"YourActivityTab_PostLink",data:{question_id:o.topLevelPostId,question_user_id:o.creatorUserId}},o.title))||void 0,upvoteCount:parseInt(o.upvoteCount,10)}))},w=function(e){function YourActivityTabBody(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).onPageChange=function(e){var r=t.context.router;r.push({pathname:r.location.pathname,params:{},query:Object.assign(r.location.query,{page:e})})},t}var t;return a()(YourActivityTabBody,e),YourActivityTabBody.prototype.render=function render(){var e=this,t=this.context,r=t.router,n=t.courseId,o=t.userId,a=this.props.theme,i=r.location.query.page?parseInt(r.location.query.page,10):1;return Object(c.d)("div",{className:"rc-personalization_YourActivityTabBody"},Object(c.d)(g.a,{courseId:n,userId:o,currentPage:i},function(t){var r=t.loading,n=t.error,s=t.data;if(n)return null;if(r)return Object(c.d)(m.a,{variant:"h2semibold",css:Object(c.c)(_templateObject(),a.spacing(24))},I()("Loading..."));if(s){if(0===s.postResults.length)return Object(c.d)(m.a,{variant:"h2semibold",css:Object(c.c)(_templateObject2(),a.spacing(24))},I()("No posts yet"));var u=Math.ceil(parseInt(s.totalHits,10)/15),d=u>1;return Object(c.d)(l.a.Fragment,null,Object(c.d)("div",null,s.postResults.map(function(e){return T(e,a,o)})),d&&Object(c.d)(f.a,{item:!0,xs:12,css:{justifyContent:"center"}},Object(c.d)(S.a,{style:{textAlign:"center",marginTop:"32px"},onClickHandler:e.onPageChange,pageCount:u,currentPage:i,maxPages:5})))}return null}))},YourActivityTabBody}(l.a.Component);w.contextTypes={router:p.a.object.isRequired,courseId:d.string,userId:d.string},e.a=Object(b.a)(w)},ti8P:function(module,exports,e){},uJiD:function(module,e,t){"use strict";t.d(e,"a",function(){return ContentBlock});var r=t("q1tI"),n=t.n(r),o=t("763+"),a=t("AeFk");function ContentBlock(e){var t=e.children,r=e.className,n=Object(o.a)(),i={border:"1px solid ".concat(n.palette.gray[300])};return Object(a.d)("section",{className:r,css:i},t)}},"uL/v":function(module,exports,e){var t=e("4Kqe"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},o=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},vOU6:function(module,e,t){"use strict";t.d(e,"a",function(){return w});var r=t("VbXa"),n=t.n(r),o=t("q1tI"),a=t.n(o),i=t("2iyS"),s=t("wd/R"),c=t.n(s),u=t("w/1P"),l=t.n(u),d=t("tag9"),p=t("5gsr"),m=t("ULqJ"),h=t("yGl8"),f=t("NQhL"),b=t("WBtN"),g=t("AeFk"),y=t("6/Gu"),v=t("8Hdl"),O=t("763+"),j=t("oEqI"),S=t("GP6s"),C=t.n(S),I=t("0lLQ"),x=t("eJMc"),F=t.n(x),T=function(e){function _ForumThreadCard(){return e.apply(this,arguments)||this}var t;return n()(_ForumThreadCard,e),_ForumThreadCard.prototype.render=function render(){var e=this.props,t=e.title,r=e.titleLink,n=e.description,o=e.creator,a=e.badge,s=e.lastReplyDate,c=e.lastReplier;return Object(g.d)(y.a,{container:!0,className:"rc-ForumsV2_ForumThreadCard"},Object(g.d)(y.a,{container:!0,item:!0,css:{justifyContent:"flex-start",flexFlow:"initial"}},this.props.pinned&&Object(g.d)(y.a,{item:!0},Object(g.d)(I.a,{"aria-label":C()("pinned forum post"),size:"medium",css:{margin:this.props.theme.spacing(0,8,0,0),background:this.props.theme.palette.yellow[500],padding:"3px",height:"24px",width:"24px",borderRadius:"100%"}})),Object(g.d)(y.a,{item:!0},!r&&t&&Object(g.d)(v.a,{variant:"h2semibold",className:"rc-ForumsV2_ForumThreadCard__title"},t),r)),Object(g.d)(y.a,{item:!0,xs:12,css:{padding:this.props.theme.spacing(12,0,16,0)}},n),Object(g.d)(y.a,{item:!0,xs:12,className:"rc-ForumsV2_ForumThreadCard__content__tags",css:{padding:this.props.theme.spacing(0,0,24,0)}},a&&Object(g.d)(h.a,{badge:a})),Object(g.d)(y.a,{container:!0,item:!0,css:{justifyContent:"space-between"}},Object(g.d)(y.a,{item:!0,className:"rc-ForumsV2_ForumThreadCard__content__responseControls"},void 0!==this.props.replyCount&&this.props.creator&&Object(g.d)("span",{className:"rc-ForumsV2_ForumThreadCard__content__responseControls__controlContainer"},Object(i.a)(this.props.creator)&&Object(g.d)("span",{className:"rc-ForumsV2_ForumThreadCard__content__responseControls__controlContainer__button"},Object(g.d)(p.a,{creator:this.props.creator,forumPostId:this.props.forumQuestionId,upvotes:this.props.upvoteCount,isUpvoted:this.props.isUpvoted})),this.props.threadUrl&&Object(g.d)("span",{className:"rc-ForumsV2_ForumThreadCard__content__responseControls__controlContainer__button"},Object(g.d)(F.a,{to:this.props.threadUrl},Object(g.d)(m.a,{forumQuestionId:this.props.forumQuestionId,replies:this.props.replyCount,creator:this.props.creator}))))),Object(g.d)(y.a,{item:!0},Object(g.d)(v.a,{variant:"body2",component:"span",css:{display:"flex",flexFlow:"row",alignItems:"center",lineHeight:"36px"}},c&&Object(g.d)(ContributorNameWithIcon,{css:{display:"flex",alignItems:"center"},fullName:c.fullName,photoUrl:c.photoUrl}),Object(g.d)("span",{css:{padding:this.props.theme.spacing(0,4)}},"·"),this.props.tags&&Object(g.d)("span",{css:{lineHeight:"36px"}},this.props.tags),Object(g.d)("span",{css:{lineHeight:"36px"}},Object(g.d)(PostAge,{createdAt:s||this.props.createdAt||0,answerCount:this.props.answerCount||0}))))),this.props.children&&Object(g.d)(y.a,{item:!0},this.props.children))},_ForumThreadCard}(a.a.Component);function CardShimmer(){return Object(g.d)("div",{className:"rc-ForumsV2_ForumThreadCard"},Object(g.d)("div",{className:"rc-ForumsV2_ForumThreadCard__content"},Object(g.d)(b.b,{width:"100px"}),Object(g.d)("span",{className:l()("comment","br","animated","rc-ForumsV2_ForumThreadCard__content__PostAge"),style:{backgroundColor:b.c,display:"block",height:"10px",width:"40px"}},"        ")),Object(g.d)(b.a,null))}function PostAge(e){var t=e.createdAt,r=e.answerCount,n=r&&r>0?"replied":"posted";return Object(g.d)("span",null,n+" "+c()(new Date(t)).fromNow())}function ContributorNameWithIcon(e){var t=e.fullName,r=e.photoUrl,n=e.className,o=t&&Object(d.a)(t)||"--",a=Object(O.a)();return Object(g.d)("div",{className:n},Object(g.d)(f.a,{color:a.palette.blue[100],initials:o,photoUrl:r}),Object(g.d)("span",{css:{height:"36px",display:"inline-block",paddingLeft:"7px"}},t))}var w=Object(j.a)(T)},x1cE:function(module,exports,e){},xaDw:function(module,e,t){"use strict";var r=t("VkAN"),n=t.n(r),o=t("VbXa"),a=t.n(o),i=t("AeFk"),s=t("6/Gu"),c=t("8Hdl"),u=t("ZJgU"),l=t("oEqI"),d=t("kmRs"),p=t("17x9"),m=t.n(p),h=t("q1tI"),f=t.n(h),b=t("i58+"),g=t("7GkZ"),y=t("9A5E"),v=t("hN99"),O=t("GP6s"),j=t.n(O),S=t("qenF");function _templateObject5(){var e=n()(["\n                padding: ",";\n              "]);return _templateObject5=function _templateObject5(){return e},e}function _templateObject4(){var e=n()(["\n                  margin: ",";\n                "]);return _templateObject4=function _templateObject4(){return e},e}function _templateObject3(){var e=n()(["\n                [","]: {\n                  width: 100%;\n                }\n              "]);return _templateObject3=function _templateObject3(){return e},e}function _templateObject2(){var e=n()(["\n              justify-content: space-between;\n            "]);return _templateObject2=function _templateObject2(){return e},e}function _templateObject(){var e=n()(["\n          padding: ",";\n          margin: ",";\n        "]);return _templateObject=function _templateObject(){return e},e}var C=function(e){function DiscussionsWeekHeroUnit(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).goToForum=function(){var e;t.context.router.push(Object(v.q)(t.props.weekNumber))},t}var t;return a()(DiscussionsWeekHeroUnit,e),DiscussionsWeekHeroUnit.prototype.render=function render(){var e=this.props,t=e.weekNumber,r=e.isLoading,n=e.lastAnsweredAt,o=e.forumQuestionCount,a=e.title,l=e.description,p=e.theme;if(!t)return null;var m=Object(i.d)(d.a,{size:"small"});return Object(i.d)("div",{css:Object(i.c)(_templateObject(),p.spacing(24),p.spacing(0,0,24,0)),className:"card-no-action rc-personalization_DiscussionsWeekHeroUnit"},r?Object(i.d)("div",{className:"message align-horizontal-center"},Object(i.d)("i",{className:"cif-spinner cif-spin cif-2x"})):Object(i.d)(s.a,{container:!0,css:Object(i.c)(_templateObject2())},Object(i.d)(s.a,{item:!0,css:Object(i.c)(_templateObject3(),this.props.theme.breakpoints.down("sm"))},Object(i.d)(c.a,{variant:"h2semibold","aria-label":a},a),Object(i.d)(g.a,{cml:l,css:Object(i.c)(_templateObject4(),p.spacing(16,0,8,0)),isCdsEnabled:!0,useRenderableHtml:Object(S.l)()}),Object(i.d)(b.a,{lastAnsweredAt:n,forumQuestionCount:o})),Object(i.d)(s.a,{item:!0,css:Object(i.c)(_templateObject5(),p.spacing(24,0,0,0))},Object(i.d)(u.a,{component:y.b,size:"small",variant:"secondary",href:Object(v.q)(t),trackingName:"discussions_hero_unit",icon:m,iconPosition:"after"},j()("Go to discussion")))))},DiscussionsWeekHeroUnit}(f.a.Component);C.contextTypes={router:m.a.object.isRequired},e.a=Object(l.a)(C)},xmWo:function(module,exports,e){var t=e("nUZb"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},o=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},yGl8:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),o=t("q1tI"),a=t.n(o),i=t("+7k1"),s=t("8cuT"),c=t("d82X"),u=t("GP6s"),l=t.n(u);function getTranslations(){return{INSTRUCTOR_CREATED:l()("Staff post"),STAFF_CREATED:l()("Staff post"),INSTRUCTOR_RESPONDED:l()("Staff reply"),MENTOR_CREATED:l()("Mentor post"),STAFF_RESPONDED:l()("Staff reply"),MENTOR_RESPONDED:l()("Mentor reply"),HIGHLIGHTED:l()("Highlighted")}}var d=function(e){function ThreadBadge(){return e.apply(this,arguments)||this}var t;return n()(ThreadBadge,e),ThreadBadge.prototype.render=function render(){var e=this.props,t=e.badge,r=e.courseId,n=getTranslations(),o="";if(!(o=Object(i.a)(r)&&"HIGHLIGHTED"===t?n.HIGHLIGHTED:n[t]))return null;return a.a.createElement(c.a,{label:o})},ThreadBadge}(a.a.Component);e.a=Object(s.a)(d,["CourseStore"],function(e){var t;return{courseId:e.CourseStore.getCourseId()}})},yMcb:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),o=t("VkAN"),a=t.n(o),i=t("q1tI"),s=t.n(i),c=t("17x9"),u=t.n(c),l=t("MnCE"),d=t("W1i5"),p=t("Pzz+"),m=t("JRPf"),h=t("WKvM"),f=t("ju0T"),b=t("JVW9"),g=t("BVC1"),y=t("+LJP"),v=t("8cuT"),O=t("EdUP"),j=t("hN99"),S=t("pqXt"),C=t("oQ9N"),I=t("kvW3"),x=t("GP6s"),F=t.n(x),T=t("N43y"),w=t.n(T),N=t("763+"),P=t("8Hdl"),E=t("AeFk");function _templateObject(){var e=a()(["\n  .back-area {\n    margin: ",";\n    display: inline-block;\n    .back-label {\n      display: inline-block;\n      margin: ",";\n    }\n    .back-arrow {\n      display: inline-block;\n      padding-left: ",";\n      margin-left: ",";\n      transition: all 0.1s ease-in-out;\n      .back-arrow-image {\n        margin-bottom: ",";\n        height: 12px;\n        width: 12px;\n      }\n    }\n    &hover {\n      .back-arrow {\n        padding-left: 0;\n        padding-right: ",";\n        transition: all 0.1s ease-in-out;\n      }\n    }\n  }\n  .results-metadata {\n    padding: ",";\n    line-height: 28px;\n    letter-spacing: -0.1px;\n    color: ",";\n    border-bottom: 1px solid ",";\n    .search-course-link {\n      text-decoration: underline;\n    }\n  }\n  .rc-SearchResultEntry {\n    cursor: pointer;\n    border-bottom: 1px solid ",";\n    list-style-type: none;\n    .c-result-title {\n      margin-bottom: ",";\n      font-weight: bold;\n    }\n    &hover {\n      .c-result-title {\n        text-decoration: underline;\n      }\n    }\n    &last-child {\n      border-bottom: none;\n    }\n  }\n  .rc-ListBody {\n    padding: 0;\n  }\n"]);return _templateObject=function _templateObject(){return e},e}var A=function styles(e){return Object(E.c)(_templateObject(),e.spacing(8,0,12),e.spacing(0,8),e.spacing(0,4),e.spacing(0,8),e.spacing(0,4),e.spacing(0,4),e.spacing(0,0,8,0),e.palette.black,e.palette.gray[300],e.palette.gray[300],e.spacing(4))},R=function RenderPropsTheme(e){var t,r;return(0,e.children)({theme:Object(N.a)()})},k=function(e){function SearchResults(t,r){var n,o;((n=e.call(this,t,r)||this).handleQueryChange=function(e){n.setState({query:e})},n.handleSearchCourse=function(e){var t=n.state.query,r=n.props.rootPath,o=n.context.router;e.preventDefault();var a=g.a.join(null!=r?r:[],"discussions/all");o.push({pathname:a,params:{},query:{q:t}})},n.onPageChange=function(e){var t=n.props,r=t.query,o=t.currentForum,a=t.contextId,i=t.hasModerationRole,s=n.context,c=s.router,u=s.executeAction;c.push({pathname:c.location.pathname,params:{},query:Object.assign(c.location.query,{page:e})}),u(m.a.goToPage,{query:r,pageNum:e,forumId:o.forumId,filterQueryString:n.props.filterQueryString,contextId:a,forumType:o.forumType.typeName,includeDeleted:i})},n.submitSearch=function(){var e=n.state.query,t=n.context.router;if(e){var r=e.replace("*","");t.push({pathname:window.location.pathname,params:{},query:{q:r}})}},n.navigateBack=function(e){var t=n.context.router,r=n.props.currentForumUrl;e.preventDefault(),t.push(r)},n.state={query:t.query||""},t.query)&&(0,n.context.executeAction)(m.a.search,{query:t.query,filterQueryString:t.filterQueryString,pageNum:t.page,forumId:t.currentForum.forumId,contextId:t.contextId,forumType:t.currentForum.forumType.typeName,reset:!0,includeDeleted:t.hasModerationRole});return n}n()(SearchResults,e);var t=SearchResults.prototype;return t.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this.props,r=t.query,n=t.pathname,o=t.currentForum,a=t.filterQueryString,i=t.page,s=this.context.executeAction;e.query===r&&e.pathname===n&&e.currentForum.id===o.id&&e.filterQueryString===a||(this.setState({query:e.query}),s(m.a.search,{query:e.query,filterQueryString:e.filterQueryString,pageNum:i,forumId:e.currentForum.forumId,contextId:e.contextId,forumType:e.currentForum.forumType.typeName,reset:a!==e.filterQueryString,includeDeleted:e.hasModerationRole}))},t.render=function render(){var e=this,t=this.props,r=t.currentForum,n=t.currentForumUrl,o=t.loadingState,a=t.numResults,i=t.currentResults,c=t.page,u=t.pageCount,l=t.query,d=t.rootForumId,m=t.rootPath,y=this.context.router,v=y.isActive({pathname:Object(j.c)()}),O=r.title,S=null==d?void 0:d.substr(d.indexOf("~")+1),C=g.a.join(null!=m?m:[],"discussions/forums/".concat(S)),x,T,w=/discussions\/(forums|weeks|groups)\//i.test(y.location.pathname)?n:C,N,E;N=o===p.i.DONE?a&&a>1?F()("#{numResults} Discussions",{numResults:a}):F()("#{numResults} Discussion",{numResults:a}):F()("Finding search results in #{displayName}",{displayName:O});var k=s.a.createElement("div",{className:"results-metadata"},s.a.createElement(P.a,{variant:"h2semibold","aria-live":"polite"},o===p.i.DONE?s.a.createElement("span",null,N):s.a.createElement(I.b,{message:F()("Finding search results in {displayName}"),displayName:O})));return o===p.i.DONE&&i.length>0&&(E=i.map(function(e,t){return s.a.createElement(f.a,{page:c,query:l,forumLink:w||"",entry:e,index:t,key:e.id})})),s.a.createElement(R,null,function(t){var r=t.theme;return s.a.createElement("div",{className:"rc-personalization__DiscussionsSearchResults",css:A(r)},!v&&k,s.a.createElement(h.a,{loadingState:o},E),s.a.createElement(b.a,{style:{textAlign:"center"},onClickHandler:e.onPageChange,pageCount:u||1,currentPage:c,maxPages:5}))})},SearchResults}(s.a.Component);k.contextTypes={executeAction:u.a.func.isRequired,router:u.a.object.isRequired},e.a=Object(l.compose)(Object(y.a)(function(e){return{query:decodeURIComponent(e.location.query.q),pathname:e.location.pathname}}),Object(C.a)({fields:["title","link","forumType"]}),Object(y.a)(S.a),Object(v.a)(["DiscussionsSearchStore","SessionFilterStore"],function(e,t){var r=e.DiscussionsSearchStore,n=e.SessionFilterStore,o=t.currentForum.forumId;return{filterQueryString:n.activeFilterQueryString,currentResults:r.searchResults({forumId:o,query:t.query,pageNum:r.currentPage}),loadingState:r.loadingState,pageCount:r.getPageCount({forumId:o,query:t.query}),numResults:r.getNumResults({forumId:o,query:t.query})}}),Object(d.a)(function(e){var t=e.courseForums&&e.courseForums.find(function(e){return e.forumType.typeName===p.j.rootForumType});return{forums:e.courseForums?e.courseForums.filter(function(e){return e.forumType.typeName!==p.j.rootForumType}).concat(e.mentorForums).concat(e.groupForums):[],rootForumId:t&&t.id}}),Object(O.a)(function(e){return e.currentForum}))(k);var q=k},yaC5:function(module,e,t){"use strict";var r=t("lSNA"),n=t.n(r),o=t("VbXa"),a=t.n(o),i=t("VkAN"),s=t.n(i),c=t("AeFk"),u=t("q1tI"),l=t.n(u),d=t("763+"),p=t("6/Gu"),m=t("oEqI"),h=t("F/us"),f=t.n(h),b=t("w/1P"),g=t.n(b),y=t("17x9"),v=t.n(y),O=t("k8aN"),j=t("DF7H"),S=t("ZKQ4"),C=t("Cytz"),I=t("BoL+"),x=t("2f5k"),F=t("+LJP"),T=t("oRIA"),w=t.n(T),N=t("51ov"),P=t("soxB");function _templateObject(){var e=s()(["\n          margin: ",";\n        "]);return _templateObject=function _templateObject(){return e},e}var E=function AllForumsTabBody(){var e=Object(d.a)();return Object(c.d)(p.a,{container:!0,item:!0,xs:12,role:"tabpanel",id:"panel-".concat(I.a.ALL)},Object(c.d)(p.a,{item:!0,xs:12},Object(c.d)(x.a,null)),Object(c.d)(p.a,{item:!0,xs:12,css:Object(c.c)(_templateObject(),e.spacing(0,0,24,0))},Object(c.d)(S.a,null)),Object(c.d)(p.a,{xs:12,item:!0},Object(c.d)(C.a,null)))},A=function(e){function DiscussionsMainColumn(){return e.apply(this,arguments)||this}var t;return a()(DiscussionsMainColumn,e),DiscussionsMainColumn.prototype.render=function render(){var e,t=this.props,r=t.className,o=t.theme,a=Object(c.c)({".searchBoxContainer":n()({justifyContent:"flex-start",margin:o.spacing(0,16,0,0)},"".concat(o.breakpoints.up("xs")),{width:"330px",minWidth:"330px"}),".newThreadButtonContainer":(e={},n()(e,"".concat(o.breakpoints.up("sm")),{padding:o.spacing(0)}),n()(e,"".concat(o.breakpoints.up("xs")),{width:"100px",minWidth:"100px"}),n()(e,"".concat(o.breakpoints.down("xs")),{padding:o.spacing(24,0,0,0)}),e)});return Object(c.d)(p.a,{container:!0,item:!0,xs:12,className:g()("rc-DiscussionsMainColumn",r),css:a},Object(c.d)(p.a,{container:!0,item:!0,style:{display:"flex"}},Object(c.d)(p.a,{item:!0,xs:12,sm:5,className:"searchBoxContainer"},Object(c.d)(O.a,{previousElementId:"sortOrder",nextElementId:"new-thread-btn",placeholder:"Search forum",animateFromSearch:function animateFromSearch(){return null},animateToSearch:function animateToSearch(){return null},onSubmit:function onSubmit(){return null}})),Object(c.d)(p.a,{item:!0,xs:12,sm:3,className:"newThreadButtonContainer"},Object(c.d)(j.b,null))),Object(c.d)(p.a,{item:!0,xs:12,style:{padding:o.spacing(32,0,0,0)}},Object(c.d)(I.c,null,function(e){var t=e.activeTab;return Object(c.d)(l.a.Fragment,null,Object(c.d)(I.b,{activeTab:t,tabName:I.a.FORYOU},Object(c.d)(N.a,null)),Object(c.d)(I.b,{activeTab:t,tabName:I.a.ACTIVITY},Object(c.d)(P.a,null)),Object(c.d)(I.b,{activeTab:t,tabName:I.a.ALL},Object(c.d)(E,null)))})))},DiscussionsMainColumn}(l.a.Component);A.contextTypes={router:v.a.object.isRequired},e.a=Object(h.compose)(Object(F.a)(function(e){return{query:e.location.query.q&&decodeURIComponent(e.location.query.q)}}))(Object(m.a)(A))},yb7V:function(module,e,t){"use strict";t.d(e,"a",function(){return L});var r=t("VbXa"),n=t.n(r),o=t("q1tI"),a=t.n(o),i=t("17x9"),s=t.n(i),c=t("F/us"),u=t.n(c),l=t("BVC1"),d=t("EdUP"),p=t("W1i5"),m=t("+LJP"),h=t("3JZf"),f=t("8cuT"),b=t("JPjw"),g=t("IDuc"),y=t("I4GC"),v=t("QT90"),O=t("E4Nz"),j=t("6B5c"),S=t("hN99"),C=t("h4VP"),I=t("GLvD"),x=t("Pzz+"),F=t("pqXt"),T=t("oQ9N"),w=t("GP6s"),N=t.n(w),P=t("uaFu"),E=t("pYrm"),A=t.n(E),R=t("8Hdl"),k=t("ZJgU"),q=function(e){function NewThreadButton(t,r){var n;return(n=e.call(this,t,r)||this).handleSubmit=function(){var e=n.state,t=e.currentForum,r=e.activeFilterId,o=e.title,a=e.content,i=n.props,s=i.userId,c=i.filter,l=i.showSessionSelector,d=n.context.executeAction,p;if(u()(n.state).any(function(e){return e.hasError}))o.hasError?n.titleElemRef.focus():a.hasError?n.contentElemRef.focus():t.hasError&&n.forumElemRef.focus(),n.setState({showErrors:!0});else{var m={title:o.value,content:a.value,context:""};l?m.context=r:c&&(m.context=c.id);var h=!!m.context&&"all"!==m.context&&"ondemand"!==m.context,f={content:{question:m.title,details:m.content},overrideSessionId:h?m.context:void 0,state:{},userId:s,courseForumId:t.value.id,mentorForumId:t.value.id,groupForumId:t.value.id},b=t.value.forumId,g=t.value.forumType&&t.value.forumType.typeName;n.setState({saving:!0}),d(O.a,{options:f,forumType:g,forumId:b})}},n.handleDropdownChange=function(e){n.setState({activeFilterId:e})},n.handleOpenModal=function(){var e=n.props,t=e.userId,r=e.course,o=e.verificationDisplay;Object(j.a)(t,r,o).then(function(){return n.handleOpen()})},n.handleCancel=function(){n.setState(n.resetState())},n.handleCloseModal=function(){n.setState({showModal:!1})},n.handleInputChange=function(e,t){var r=n.state[e];r.value=t.value,r.hasError=!t.isValid,n.setState(function(e){return e})},n.clearErrorsAndSubmit=function(){n.setState({showErrors:!1}),setTimeout(function(){n.handleSubmit()},500)},n.setTitleElemRef=function(e){n.titleElemRef=e},n.setContentElemRef=function(e){n.contentElemRef=e},n.setForumElemRef=function(e){n.forumElemRef=e},n.state=n.resetState(),n.titleElemRef={},n.contentElemRef={},n.forumElemRef={},n}n()(NewThreadButton,e);var t=NewThreadButton.prototype;return t.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this.props.threadSavingState,r;if(!this.state.saving){var n,o=this.props.currentForum,a=!o;this.setState({currentForum:{value:o,hasError:a}})}t===x.m.SAVING&&e.threadSavingState===x.m.SAVED?this.handleSaveSuccess(e.newThread):t===x.m.SAVING&&e.threadSavingState===x.m.ERROR&&this.handleSaveError()},t.handleSaveSuccess=function handleSaveSuccess(e){var t=this.context.router,r=this.state.currentForum,n=this.props.rootPath,o=l.a.join(n,r.value.link);t.push(Object(S.a)(o,e.questionId)),this.setState(this.resetState())},t.handleSaveError=function handleSaveError(){this.setState({saveError:!0,saveErrorMessage:N()("Something went wrong. Please reload the page and try again."),saving:!1})},t.handleOpen=function handleOpen(){var e=this.state.showModal;this.setState(function(){return{showModal:!e}})},t.resetState=function resetState(){var e,t=this.props.currentForum,r=!t;return{showModal:!1,title:{value:"",hasError:!0},content:{value:C.c.create("",x.a),hasError:!0},currentForum:{value:t,hasError:r},showErrors:!1,saving:!1,saveError:!1,saveErrorMessage:"",activeFilterId:""}},t.render=function render(){var e=this,t=this.state,r=t.showModal,n=t.saving,o=t.saveError,i=t.content,s=t.showErrors,c=t.title,l=t.currentForum,d=t.saveErrorMessage,p=this.props,m=p.courseId,h=p.showSessionSelector,f=p.rootForumId,O=p.forums,j=I.a.generateContentLengthWarning(i.value),S=a.a.createElement("div",{className:"error-text c-modal-error-message"},d),C=null,x=l.value,F=O.filter(function(e){return!e.parentForumId||e.parentForumId===f}),T=u()(F.map(function(e){return[e].concat(O.filter(function(t){return t.parentForumId===e.id}))})).flatten(),w;T.length&&(C=a.a.createElement("div",{className:"c-input-area"},a.a.createElement(P.a,{fieldName:N()("Forum")}),a.a.createElement(y.b,{id:"forum-selector",rootForumId:f,hasError:s&&l.hasError,handleInputChange:this.handleInputChange,forums:T,value:x,elemRefHook:this.setForumElemRef}))),h&&(w=a.a.createElement("div",{className:"context-selector-container"},a.a.createElement("div",{className:"bgcolor-divider bt3-pull-left section-divider"}),a.a.createElement("div",{className:"c-input-area"},a.a.createElement(R.a,{component:"h3",variant:"h2semibold"},N()("You're currently viewing All Sessions.")),a.a.createElement(R.a,{component:"label",htmlFor:"new-thread-sessions-switcher"},a.a.createElement("span",{className:"caption-text color-secondary-text"},N()("Which session should this thread go in?"))),a.a.createElement(v.a,{id:"new-thread-sessions-switcher",hideAllSessionsOption:!0,limitSwitchingToCurrentBranch:!0,dropup:!0,handleDropdownChange:this.handleDropdownChange}))));var E=a.a.createElement(b.a,{onRequestClose:this.handleCloseModal,modalName:N()("Create a new post"),className:"rc-ForumsV2__NewThreadModal large"},a.a.createElement(R.a,{component:"h1",variant:"h1semibold",className:"c-modal-title"},N()("Create a new post")),a.a.createElement("div",{className:"c-input-area"},a.a.createElement(P.a,{fieldName:N()("Title")}),a.a.createElement(y.c,{id:"title-input",hasError:s&&c.hasError,value:c.value,handleInputChange:this.handleInputChange,elemRefHook:this.setTitleElemRef})),a.a.createElement("div",{className:"c-input-area"},a.a.createElement(P.a,{fieldName:N()("Body")}),a.a.createElement(y.a,{id:"content-input",courseId:m,hasError:s&&i.hasError,handleInputChange:this.handleInputChange,cml:i.value,elemRefHook:this.setContentElemRef})),C,w,a.a.createElement("div",null,j,o&&S,a.a.createElement("div",{className:"horizontal-box align-items-right"},a.a.createElement(k.a,{size:"small",type:"button",className:"passive",onClick:this.handleCancel},N()("Cancel")),"  ",a.a.createElement(k.a,{component:g.a,ref:function ref(t){e.submitButton=t},disabled:n,size:"small",variant:"secondary",type:"submit",onClick:this.clearErrorsAndSubmit,trackingName:"new_thread_create",withVisibilityTracking:!0,requireFullyVisible:!1},N()("Post")))));return a.a.createElement("div",{className:"rc-ForumsV2__NewThreadForm"},a.a.createElement(k.a,{component:g.a,variant:"secondary",size:"medium",ref:function ref(t){e.newThreadButton=t},id:"new-thread-btn",onClick:this.handleOpenModal,trackingName:"new_thread_button",withVisibilityTracking:!0,requireFullyVisible:!1},N()("Create a post")),r&&E)},NewThreadButton}(a.a.Component);q.contextTypes={executeAction:s.a.func.isRequired,router:s.a.object.isRequired};var D=u.a.compose(Object(f.a)(["SessionFilterStore","ThreadsStore","ApplicationStore","CourseMembershipStore","VerificationStore","CourseStore"],function(e,t){var r=e.SessionFilterStore,n=e.ThreadsStore,o=e.ApplicationStore,a=e.CourseMembershipStore,i=e.VerificationStore,s=e.CourseStore;return{showSessionSelector:(o.isSuperuser()||a.hasModerationRole())&&"all"===r.activeFilterQueryString,filter:r.activeFilter,threadSavingState:n.savingState,newThread:n.threadToInsert,userId:o.getUserData().id,verificationDisplay:i.getVerificationDisplay(),course:s.getMetadata(),courseId:s.getCourseId()}}),Object(T.a)({fields:["forumType","title","link"]}),Object(m.a)(F.a),Object(p.a)(function(e){var t=e.currentForum&&e.currentForum.forumType.typeName!==x.j.rootForumType&&e.currentForum||void 0,r=e.courseForums&&e.courseForums.find(function(e){return e.forumType.typeName===x.j.rootForumType});return{forums:e.courseForums?e.courseForums.filter(function(e){return e.forumType.typeName!==x.j.rootForumType}).concat(e.mentorForums).concat(e.groupForums):[],rootForumId:r&&r.id,currentForum:t,currentForumId:t&&t.id}}),Object(d.a)(function(e){return e.forums.length}))(q);e.b=Object(h.a)()(D);var L=D,M=q}}]);
//# sourceMappingURL=42.1fd091f910e4b9e2acc3.js.map